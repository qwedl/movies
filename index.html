<!DOCTYPE html><html lang="ru" style="--theme:#00838f; --theme-rgb:0, 131, 143; --theme-light:#4fb2bf; --theme-dark:#005561; --header: url(https://www.qwedl.com/page/pcmasters/images/background.jpg);"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><meta name="description" content="Qwedl Movies" /><title>Qwedl Movies</title><link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFrElEQVRoQ92ZWyxcWxjHP9Spy5ljSpqc47RImfRhCMn2wAMPEhFUQkjjXlSqLUHQuFXiliAIiVbQEn0gJK4PaNI00mr0xTZpPdCkJsJxeZAOTtwmLiffSvZk75m95z7aOd/jXmvt9f+tb33f+vbaNmDlZsPopyjqHwD420p4NmmavoVaCYCViSdrrFQqd5aWlv5CAFuKos6tZOU5MmmatkMAB4qijq0UwBEBRBRFHVgpwB8I4EJR1J6VAogRQExRlMJKAW78/wFEIhE8fvxY0EHr6+swPDxslAOTkpLg1i2Sznnt9evXoFAIbw6apnV74M6dOzA0NCQ4yY8fPyAyMhIuLy8NgnB2dob379+Dra2t4Lh79+7B9vY22NnZ8fYxCwC+uaCgAObm5uDatWt6Q6BXs7KytPZnALATH4TZAKampqCqqoqI0RdiYmIC3N3d9QbggzAbwOHhIURERMDR0ZFeEG5ubjA9PQ02NqpSjBeE7QGmA9sTZgPAl6MH0BOMafNEeXk5xMXF6dxufABsT5gV4NOnT5Cfn88RJQTx9u1bcHV1NQqA8RoGv1kBzs7OICoqCnZ3d7VCSCQSGBgY0CkeO6h7QH3LyWQy49OoXC4HTLFsa2lpgcHBQQ1xbE80NjZCWFgYp8/q6ip4e3trjGMD8MWLSQBv3ryBBw8ecCb98uULZGZm8q4uAzE7Owt4BrCtv78fMjIyBAGEgt0kgIqKCnj06BF4eXmpJr64uCDBubGxwRHDCAgMDITu7m5OG57knZ2dgJ5RN/TAzs6O4HYzCaC2thZu3rwJT5484Uzw8uVL6O3tVT1jrx56Jy8vj9Mfgba2tqCmpkZDaExMDDmJhcwkgObmZvj48SNMTk5yyoHv37/D/fv3yZzqrsf4uHv3robHgoODoays7GoBXrx4AX19fdDT0wO4NdiWnJwM37594zzz8fHRKPpomibbMC0tDQoLC68WACtF3Lvx8fFQWVmpEZQdHR2cZ0+fPoWHDx9ynjU0NMDIyAiByMnJuVoAzOWtra0gFothZmYGrl+/rhKwubkJsbGxgEHNbKWxsTHw8PBQ9Tk9PSXnxt7eHikG09PTrxYABdXX15NJMf+r53Zc0YWFBdLu7+9PthvbMJ2WlJSQR6Wlpaq4YfexaBBjMfb8+XMyX3h4ODQ1NXEEjo+PqwD5BGLQvnv3joyprq4GFKtuFgXAFSwuLiZzOjo6kurSxcVFpWF/f59sEdxGWOSxax9si46OhuPjY5KpMBZwEa4U4PPnz5Cbm6tKlVhhJiQkcDTgyiuVSmhra+M8x8BF0UyaxfaQkBCDAHDs4uKi8bWQTCaD7Oxs1aQBAQGcAwwb8JORCVa2OsxGWHYw1tXVpZGKsU1oCzHgJgEsLy9DamqqSgS+FFeWXVqcnJzA+fk5p/ZZW1vT8BTWQr6+vnp5gH04mgSwsrICKSkpnEkx82BO12ZYOrx69YrTBQtDqVSqE0D9ZDc7gKenJ4yOjgp+KuLNBR58WMCxTR8AvorU7AAoCreDn58frxO+fv3KexOhC0ConLYIQGJiIjx79owXAAtAvkswbQDaymmLAOCNA+Z9e3t7DgSmU8z9fDdtvxQAqm5vb9fI61h6FxUV8XrmlwPAE7iuro4jFssOvI3gM4sC4OVuUFCQxrwHBwcwPz/PK8jJyQlCQ0NJGxOAHz58IKUDn+EHDbsMYfqg14TGYB+9YgA74mGkr+m6bdP2HkPH6g2gL4ShAtgwxow1CEAXhDECGABjxxoMIARhrAB2jOi7Rdn9jAJQh/hZ4nFe5m7UqL+UGNg/UzwuJE3T5C/l71KpdM3BwcHNUDcyH+2GjjMHuEKh2JPL5bcR4DcAuC2RSBZEIpHY0JcbCmHo+/kylUKh2JfL5RQAbCAA+VsPAH8CAN66Cv91M3SpLdMf72oOAQAvTf/9D4lFMPZL1jeAAAAAAElFTkSuQmCC" /><style>body,html.spinner body{visibility:hidden}html:after,.spinner:after{content:'';border-radius:50%;border:4px transparent solid;border-top-color:var(--theme,#3F51B5);animation:spinner 1s infinite}html:after,button.spinner:after{position:fixed}html:after{height:40px;width:40px;left:50%;top:50%;margin:-20px 0 0 -20px}@keyframes spinner{to{transform:rotate(360deg)}}</style><link rel="stylesheet" href="https://alex2844.github.io/qad-cmf/dist/css/full.css" /><style>html[data-user-mode=msx] aside{display:none}html:not([data-user-mode]) aside nav.round summary{border-radius:0 25px 25px 0}html:not([data-user-mode]) aside nav.round details[open]{border-top-right-radius:25px;border-bottom-right-radius:25px}dialog section details .li{color:var(--theme)}dialog section details details .li:not([data-icon]){padding-left:96px}aside h3 a,header h1 a,li a,table tr a{color:inherit!important}aside.tv ul li{min-height:0}.flex{display:flex}.flex .material-icons{font-size:inherit;margin-left:3px}._.info .title>.flex>a{color:inherit}._.info .title>.flex>:not(:last-child){margin-right:5px}._.info .title>.flex>:not(:last-child):after{content:'\00B7';margin-left:5px}.img{text-align:center}._.info .desc{outline:0}._.info .nav button.material-icons:not(.active){filter:brightness(.6)}html:not([data-user-mode=tv]) ._.info .nav nav{flex-wrap:wrap;margin-bottom:-5px;justify-content:center}html:not([data-user-mode=tv]) ._.info .nav nav button{margin-bottom:6px}summary .progress{margin:.5rem 0}html[data-user-mode=tv] main ._.info{background-color:var(--theme)}html[data-user-mode=tv] .carousel .card h2{max-width:100px}html:not([data-user-mode=tv]) .carousel .card h2{max-width:148px}html:not([data-user-mode]) .card h2{font-size:1rem;line-height:1.25rem}#ads{min-height:0}#ads a:hover{text-decoration:underline}@media all and (min-width:1025px){html:not([data-user-mode=tv]) header h1 a{display:none}}@media all and (max-width:376px){header h1 a{display:none}}@media (min-width:480px){html[data-user-mode=tv] ._.info{align-content:flex-start;margin-top:25vh;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}html[data-user-mode=tv] main ._.info{padding:0}html[data-user-mode=tv] main ._:not(.info){grid-gap:8px;padding-left:70px;padding-right:70px}html[data-user-mode=tv] main ._ .card:not(:focus){filter:brightness(.5)}html[data-user-mode=tv] main ._ .card:focus{z-index:3}html[data-user-mode=tv] main ._.info>[class*=_c]{padding:10px}html[data-user-mode=tv] ._.info.fixed{position:fixed;top:0;left:0;bottom:0;right:0;z-index:10;margin:0}html[data-user-mode=tv] ._.info.fixed .nav,html[data-user-mode=tv] ._.info:not(.fixed) .desc div.hide{display:none}html[data-user-mode=tv] ._.info .img{position:relative}html[data-user-mode=tv] ._.info .img img{z-index:2;position:absolute;right:0}html[data-user-mode=tv] ._.info:not(.fixed):not(.scrolled) .img img{margin-top:-140px}html[data-user-mode=tv] ._.info.scrolled:not(.fixed) .img img{margin-top:80px}html[data-user-mode=tv] ._.info .nav{width:100%;position:absolute;background-color:var(--theme-dark)}html[data-user-mode=tv] ._.info .nav nav{scroll-padding-right:50px}html[data-user-mode=tv] ._.info .nav button.color{height:100%}html[data-user-mode=tv] ._.info .nav nav>:not(.spinner):last-child:after{content:'';position:absolute;height:1px;right:-50px;width:50px}html[data-user-mode=tv] ._.info .title{padding-bottom:0}html[data-user-mode=tv] ._.info:not(.fixed) .title{margin-top:80px}html[data-user-mode=tv] ._.info .title h2{font-size:2.2rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}html[data-user-mode=tv] ._.info .title h2,html[data-user-mode=tv] ._.info p{margin:0}html[data-user-mode=tv] ._.info .desc{padding-top:0;scroll-margin-bottom:35vh;scroll-margin-top:35vh}html[data-user-mode=tv] ._.info .desc p{width:95%}html[data-user-mode=tv] ._.info:not(.fixed) .desc p{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}html[data-user-mode=tv] ._.info .desc{position:relative}html[data-user-mode=tv] ._.info .desc:focus:after{background-color:rgba(255,255,255,.1)}html[data-user-mode=tv] ._.info .desc:after{right:5%;bottom:0;position:absolute;letter-spacing:.0892857143em;min-width:64px;height:2.25rem;border:none;outline:0;border-radius:4px;font-size:.875rem;cursor:pointer;font-weight:500;text-transform:uppercase;display:flex;align-items:center;justify-content:center;padding:0 16px}html[data-user-mode=tv] ._.info:not(.fixed) .desc:after{content:attr(data-more_min);margin-bottom:-25px}html[data-user-mode=tv] ._.info.fixed .desc:after{content:attr(data-more_max);margin-bottom:25px;position:fixed}html[data-user-mode=tv] ._.info.fixed .desc{max-height:72vh;overflow:auto}html[data-user-mode=tv] ._.info~article{margin-left:54px}html[data-user-mode=tv] ._.info~article>h2{margin-left:-24px}html[data-user-mode=tv] ._.info~article .carousel{margin-left:-54px}}@media (max-width:839px) and (min-width:480px){html[data-user-mode=tv] ._.info .nav nav{padding-left:39%}#ads ._c4:last-child{display:none!important}}@media (min-width:840px){html[data-user-mode=tv] ._.info .nav nav{padding-left:26%}}html[data-user-mode=tv] ._.info{margin-top:30vh}html[data-user-mode=tv] ._.info .img img{max-height:240px}html[data-user-mode=tv] ._.info:not(.fixed):not(.scrolled) .img img{margin-top:-120px}@media (hover:hover) and (pointer:fine){html:not([data-user-mode]) ::-webkit-scrollbar{width:6px;height:6px}}html:not([data-user-mode=tv]) #sync:not(.material-icons),html[data-user-mode=tv] #sync:not(.material-icons) .media{font-size:0;background-image:var(--iconURL);background-size:cover;background-position:center center}html:not([data-user-mode=tv]) #sync:not(.material-icons){width:24px;height:24px!important;border-radius:50%}h3[data-age],h3[data-rating]{height:1.375rem;position:relative}h3[data-rating]:before{content:'star';font-size:20px;font-family:'Material Icons';text-transform:none;line-height:normal;font-feature-settings:'liga';padding-right:5px}h3[data-age]:after{content:attr(data-age);right:0;position:absolute}@media (min-width:840px){html:not([data-user-mode]) main>aside:not([hidden])+section ._{grid-template-columns:repeat(8,minmax(0,1fr))}}@media all and (max-width:839px) and (min-width:480px){html:not([data-user-mode]) main>aside:not([hidden])+section ._{grid-template-columns:repeat(4,minmax(0,1fr))}}[data-template=tv_programs] tr td:last-child{vertical-align:top;padding-top:16px}[data-template=tv_programs] p{margin:1em}.card.menu ul{min-width:100%;min-height:100%;margin:7px 0}.card.menu ul div{padding:10px 16px;border-bottom:1px solid var(--border);color:rgba(var(--color-rgb),.54)}.card.menu ul div .star{position:absolute;margin-left:3px;margin-top:4px;font-size:inherit}label.dnli.menu{position:absolute;z-index:4}#dialog_sources label.menu ul{width:150px}label.dnli.menu[data-li]:not([data-li*=download]) [data-li=download],label.dnli.menu[data-li]:not([data-li*=history]) [data-li=history],label.dnli.menu[data-li]:not([data-li*=info]) [data-li=info],label.dnli.menu[data-li]:not([data-li*=play]) [data-li=play],label.dnli.menu[data-li]:not([data-li*=schedule]) [data-li=schedule]{display:none}html:not([data-user-mode]) #dialog_iframe{width:90vw}html[data-user-mode=tv] #dialog_iframe{width:100vw;height:200vh}html:not([data-user-mode]) #dialog_iframe section{padding-bottom:70vh!important}html[data-user-mode=tv] #dialog_iframe section{padding-bottom:95vh!important}#dialog_iframe section{position:relative}#dialog_iframe iframe{position:absolute;width:calc(100% - 48px);height:calc(100% - 20px)}.rating{background-repeat:no-repeat;bottom:10px;right:10px;background-color:#fff;width:60px!important;height:18px!important;padding:3px;border-radius:4px;color:#000;font-size:14px;font-weight:550;text-align:center;float:right;background-position:26px -18px;filter:contrast(1000%)}.rating:after{content:'\E801';float:left;font-weight:400;font-size:20px;font-family:'Material Icons';text-transform:none;line-height:normal;font-feature-settings:'liga';margin-top:-4px}</style><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin /><link rel="preload" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'" /><noscript><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" /></noscript><noscript><link rel="stylesheet" href="https://alex2844.github.io/qad-cmf/dist/css/tablet_light.css" /></noscript></head><body><aside><h3><a href="?">Qwedl Movies [dev]</a></h3><h6></h6><nav class="round" id="aside_nav"><a href="?"><i class="material-icons">home</i> Главная</a><div role="group" aria-label="Библиотека"><a href="?sbs"><i class="material-icons">3d_rotation</i> 3D контент</a><a href="?languages"><i class="material-icons">subtitles</i> Субтитры</a><a href="?tv"><i class="material-icons">live_tv</i>ТВ каналы</a><a href="?bookmarks=favorite"><i class="material-icons">favorite</i> Избранное</a><a href="?bookmarks=watch_later"><i class="material-icons">watch_later</i> Посмотреть позже</a><details ontoggle="genre(this, 'genre')"><summary data-icon="category"><a href="?genre=genre">Жанры</a></summary></details><details ontoggle="genre(this, 'collection')"><summary data-icon="collections"><a href="?genre=collection">Подборки</a></summary></details><a href="?flags"><i class="material-icons">developer_mode</i> Режим разработчика</a></div></nav></aside><div class="content"><header><h1><a href="?">Qwedl Movies [dev]</a></h1><label class="input extended"><span>Поиск</span><form id="search_form" action="./" target="_top"><i class="material-icons" tabindex="-2">search</i><i class="material-icons">mic</i><input name="search_name" type="text" placeholder="Поиск" list="search_list" /><input type="submit" /><datalist id="search_list"></datalist></form></label><div role="group" aria-label="Настройки"><button onclick="syncStorage.authSync()" id="sync" class="material-icons" title="Авторизация">account_circle</button></div></header><main><section id="content"></section></main></div><script>window.addEventListener('error', function(err) {alert('onerror: '+(err.error ? (err.error.stack || err.error.message) : err.message));});</script><script src="https://alex2844.github.io/qad-cmf/dist/js/client.js"></script><script src="https://alex2844.github.io/js-global-storage/dist/js/globalStorage.js"></script><script>window.package_config={"enabled":{"torrents":"","collaps":"true","ustore":"","sbs":"true","videocdn":"true","schedule":"","hdvb":"","bazon":""},"access":{"videocdn":{"domain":"https://videocdn.tv","token":"Yvu7MfGnrlxNBHjDswZYa7EhWl148x2e"},"vk":{"domain":"https://api.vk.com","token":"4191d4ac62f9f170b26ba1e26a816e9b23785597c3ca497312fa38575df7ff17262cbb073b796c0b9e0a9"},"hdvb":{"domain":"https://apivb.info","token":"2ab70c1a9e5848558b2aae0d053db785"},"bazon":{"domain":"https://bazon.cc","token":"a03909a612319096a3d8cf7b9b652510"},"kinopoisk":{"token":"9737c2a2-3725-4540-a1f8-0d88aa02c534","domain":"https://kinopoiskapiunofficial.tech"},"collaps":{"token":"b19bbac387de17f4833899054f94f3ab","domain":"https://apicollaps.cc"},"torrents":{"domain":"https://hms.lostcut.net/proxy.php?http://nserv.host:5300"},"ustore":{"token":"5b3bbac20624a61132b0975c460b4ba3","domain":"https://apidevel.ustore.bz"},"hdkinoteatr":{"domain":"https://hms.lostcut.net/proxy.php?http://api.lostcut.net"},"imdb":{"token":"8265bd1679663a7ea12ac168da84d2e8","domain":"https://api.themoviedb.org"},"zombie":{"domain":"https://api.zombie-film.live"}},"sync":{"google":{"id":"1012347140595-1rofcp855gd4qbfdv73a84t9jvk8jtkg.apps.googleusercontent.com","key":"AIzaSyDt7ZsW_aS0eal8h-ymtg1j0jt_c7kyh9I"}}};</script><script>function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var syncStorage,historyStorage,loadApiAbort;Fetch=fetch,fetch=function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){if(t){if(t.query&&(e+="?"+new URLSearchParams(t.query).toString(),delete t.query),t.JSONP)return new Promise(function(t,r){var n="_"+Math.random().toString(36).substr(2,9),o=document.createElement("script");fetch.callback||(fetch.callback={}),fetch.callback[n]=function(e){return delete fetch.callback[n],o.remove(),e.error?r(e.error):t(e)},o.onerror=function(e){return r(e)},o.src=e+"&callback=fetch.callback."+n,document.head.append(o)});t.corsProxy&&(corsProxy?!t.headers||"fetch"in corsProxy||(t.headers=Object.entries(t.headers).reduce(function(e,t){return e[t[0].match(/^cors-/i)?"cors":"headers"][t[0].replace(/^cors-/i,"")]=t[1],e},{cors:{},headers:{}}),Object.keys(t.headers.cors).length&&(e+=(-1==e.indexOf("?")?"?":"&")+"corsProxy="+JSON.stringify(t.headers.cors)),t.headers=t.headers.headers):e="https://proxy.fetchcors.workers.dev/"+e,delete t.corsProxy)}return(corsProxy&&"fetch"in corsProxy?corsProxy.fetch:Fetch)(e,t)}),qad.view=function(e,t){return new Promise(function(e,t){if("doT"in window)return e();var r=document.createElement("script");r.src="https://unpkg.com/js-global-dot/dist/doT.js",r.onerror=function(e){return t(e)},r.onload=function(){return e()},document.head.append(r)}).then(function(){var r;return console.log(doT,{file:e,data:t}),"rendermodule"in doT||(doT.rendermodule=function(_) {return Object.fromEntries(_.map(v => ([ v[0], new Function('return '+v[1].replace(/script-tpl/g, 'script'))() ])));}([["aside_languages","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out='<aside id=\"languages_sidenav_aside\"><h3 data-icon=\"filter_list\">Фильтр</h3><section><form onchange=\"(\\'filter\\' in window) ? filter(this) : this.submit()\"><input type=\"hidden\" name=\"languages\" />'; if ($this.options.audio) { out+='<label class=\"select full\"><select name=\"filter[\\'audio\\']\"><option></option>'; $this.options.audio.forEach(function(v) {  if (location.json[\"filter['audio']\"] == v) { out+='<option selected>'+encodeHTML( v )+'</option>'; }else{ out+='<option>'+encodeHTML( v )+'</option>'; }  }); out+='</select><span>Аудио</span></label>'; }  if ($this.options.subtitles) { out+='<label class=\"select full\"><select name=\"filter[\\'subtitles\\']\"><option></option>'; $this.options.subtitles.forEach(function(v) {  if (location.json[\"filter['subtitles']\"] == v) { out+='<option selected>'+encodeHTML( v )+'</option>'; }else{ out+='<option>'+encodeHTML( v )+'</option>'; }  }); out+='</select><span>Субтитры</span></label>'; } out+='</form></section></aside>';return out;\n}"],["aside_sbs","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out='<aside id=\"sbs_sidenav_aside\"><h3 data-icon=\"filter_list\">Фильтр</h3><section><form onchange=\"(\\'filter\\' in window) ? filter(this) : this.submit()\"><input type=\"hidden\" name=\"sbs\" /><label class=\"select full\"><select name=\"filter[\\'type\\']\"><option></option>'; [[ 'Фильмы', 'film' ],[ 'Мультфильмы', 'cartoon' ]].forEach(function(v) {  if (location.json[\"filter['type']\"] == v[1]) { out+='<option value=\"'+encodeHTML( v[1] )+'\" selected>'+encodeHTML( v[0] )+'</option>'; }else{ out+='<option value=\"'+encodeHTML( v[1] )+'\">'+encodeHTML( v[0] )+'</option>'; }  }); out+='</select><span>Тип</span></label></form></section></aside>';return out;\n}"],["aside_tv","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out=''; if (!location.json.tv) { out+='<aside id=\"tv_sidenav_aside\"><h3 data-icon=\"filter_list\">Фильтр</h3><section><form onchange=\"(\\'filter\\' in window) ? filter(this) : this.submit()\"><input type=\"hidden\" name=\"tv\" /><label class=\"select full\"><select name=\"genre\"><option></option>'; [[ 'ENTERTAINMENT', 'Развлечения', 'razvlekatelnye' ],[ 'FAMILY_KIDS', 'Для всей семьи', 'detskie' ],[ 'MUSIC', 'Музыка', 'muzykalnye' ],[ 'MOVIES', 'Фильмы', 'kino' ]].forEach(function(v) {  if (location.json.genre == v[0]) { out+='<option value=\"'+encodeHTML( v[0] )+'\" selected>'+encodeHTML( v[1] )+'</option>'; }else{ out+='<option value=\"'+encodeHTML( v[0] )+'\">'+encodeHTML( v[1] )+'</option>'; }  }); out+='</select><span>Жанр</span></label><label class=\"switch\">'; if (location.json.table) { out+='<input type=\"checkbox\" name=\"table\" value=\"1\" checked />'; }else{ out+='<input type=\"checkbox\" name=\"table\" value=\"1\" />'; } out+='<span>Таблица</span></label></form></section></aside>'; } return out;\n}"],["bookmarks","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out=''; if (!navigator.server) { out+='<h2 class=\"h4\">'+encodeHTML( ({favorite: 'Избранное',watch_later: 'Посмотреть позже'}[location.json.bookmarks] || 'Закладки') )+'</h2><div class=\"_\" onrender=\"ui.template(this, \\''+encodeHTML( location.json.bookmarks )+'\\')\"></div>'; } return out;\n}"],["flags","function anonymous($this\n) {\nvar out='<ul id=\"flags\"></ul><pre><code class=\"prettyprint\"></code></pre><style>#flags select {margin-left: auto; color: var(--color); background-color: var(--background); border-radius: 4px; padding-right: 5px;}pre {background: #283142 !important;color: #eceff1 !important;}</style><script-tpl src=\"data:text/javascript;base64,bG9jYXRpb24uc2VhcmNoLm1hdGNoKCImZ2FtZXBhZCIpP2xvY2F0aW9uLmhyZWY9Imh0dHBzOi8vc2NyaXB0Lmdvb2dsZS5jb20vbWFjcm9zL3MvQUtmeWNiend6ZmdRbHZhRGFCQXRSUGR2TnlGeXNocjZHQnlocHAyNlNvUHkxcFpKMjE3eFRiZVQxWUNMMk1ScnRZYlZ4SUlNL2V4ZWMiOm5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpe2lmKCJnbG9iYWxTdG9yYWdlImluIHdpbmRvdyYmbmF2aWdhdG9yLnN0b3JhZ2VBdmFpbGFibGUmJiFsb2NhbFN0b3JhZ2Uubm9fc3luY1N0b3JhZ2UpeyFmdW5jdGlvbiB0KCl7d2luZG93LnN5bmNTdG9yYWdlP2Uoc3luY1N0b3JhZ2UudXNlcnMoKS5sZW5ndGgpOnNldFRpbWVvdXQodCw1MDApfSgpfWVsc2UgZSghMSl9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PVsyODAsMzYwLDQ4MCw3MjAsMTA4MCwxNDQwLDIxNjAsNDMyMF0sbj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLG4pe3JldHVybiBNYXRoLmFicyhuLXQpPD1NYXRoLmFicyh0LWUpP246ZX0sZVswXSl9LG89e21vZGU6Y29yc1Byb3h5JiZjb3JzUHJveHkubW9kZXx8ImFsbCIscmVmZXJyZXI6ZG9jdW1lbnQucmVmZXJyZXIsdXNlckFnZW50Om5hdmlnYXRvci51c2VyQWdlbnQsY29yc1Byb3h5OmNvcnNQcm94eSxnZXQ6bG9jYXRpb24uanNvbixzY3JlZW46e2RlZmF1bHRRdWFsaXR5Om4odCxNYXRoLm1pbih3aW5kb3cuc2NyZWVuLndpZHRoLHdpbmRvdy5zY3JlZW4uaGVpZ2h0KSp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksd2lkdGg6d2luZG93LnNjcmVlbi53aWR0aCxoZWlnaHQ6d2luZG93LnNjcmVlbi5oZWlnaHQscmF0aW86d2luZG93LmRldmljZVBpeGVsUmF0aW99LGFwaTpjb3JzUHJveHkmJk9iamVjdC5lbnRyaWVzKGNvcnNQcm94eSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlWzFdJiYtMT09ZVswXS5pbmRleE9mKCJBc3luYyIpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfSksdXNlcnM6ZX0scj1mdW5jdGlvbihlKXskKCJwcmUgY29kZSIpLmh0bWwoSlNPTi5zdHJpbmdpZnkoZSxudWxsLCJcdCIpKS5jbGFzc0xpc3QucmVtb3ZlKCJwcmV0dHlwcmludGVkIiksIlBSImluIHdpbmRvdyYmUFIucHJldHR5UHJpbnQoKX07cihvKSxbe2lkOiJwbGF5ZXIiLHRpdGxlOiLQn9C70LXQtdGAINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOIix0ZXh0OiJXZWIsIEFuZHJvaWQiLG9wdGlvbnM6W1sic2hha2EiLCLQktGB0YLRgNC+0LXQvdC90YvQuSDQv9C70LXQtdGAIl0sWyJpZnJhbWUiLCLQn9C70LXQtdGAINC40YHRgtC+0YfQvdC40LrQsCJdLFsiYnJvd3NlciIsItCR0YDQsNGD0LfQtdGAIl0sWyJleHRlcm5hbCIsItCS0L3QtdGI0L3QuNC5INC/0LvQtdC10YAiLCEoY29yc1Byb3h5JiYib3BlblN5bmMiaW4gY29yc1Byb3h5KV0sWyJ2bGMiLCJWTEMiLCEoY29yc1Byb3h5JiYib3BlblN5bmMiaW4gY29yc1Byb3h5KV0sWyJsaW5rIiwi0JLRi9Cy0L7QtCDRgdGB0YvQu9C60LgiXV0sdmFsdWU6Y29yc1Byb3h5JiYib3BlblN5bmMiaW4gY29yc1Byb3h5PyJleHRlcm5hbCI6InNoYWthIn0se2lkOiJrZXlfZXZlbnRzX2Rpc2FibGUiLHRpdGxlOiLQntGC0LrQu9GO0YfQuNGC0Ywga2V5X2V2ZW50cyIsdGV4dDoiV2ViLCBBbmRyb2lkIn0se2lkOiJtb2RlIix0aXRsZToi0KDQtdC20LjQvCIsdGV4dDoiV2ViLCBBbmRyb2lkIixvcHRpb25zOltbIiIsItCQ0LLRgtC+Il0sWyJ0YWJsZXQiLCJUYWJsZXQiXSxbInR2IiwiVFYiXSxbIm1zeCIsIk1lZGlhIFN0YXRpb24gWCJdXSx2YWx1ZTpsb2NhbFN0b3JhZ2UubW9kZSxzZXQ6ZnVuY3Rpb24oZSl7bG9jYWxTdG9yYWdlLm1vZGU9ZS52YWx1ZSxsb2NhdGlvbi5yZWxvYWQoKX19LHtpZDoicGluZ19zb3VyY2VzIix0ZXh0OiJXZWIsIEFuZHJvaWQiLGJ1dHRvbjoi0J/RgNC+0LLQtdGA0LjRgtGMINC40YHRgtC+0YfQvdC40LrQuCIsc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PSQoImhlYWRlciIpO3QuY2xhc3NMaXN0LmFkZCgicHJvZ3Jlc3MiKSwoImFwaV9zb3VyY2VzImluIHdpbmRvdz9Qcm9taXNlLnJlc29sdmUod2luZG93LmFwaV9zb3VyY2VzKTppbXBvcnQobG9jYXRpb24ucm91dGVzLnNvdXJjZXMuanMpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5hcGlfc291cmNlcz1lLmRlZmF1bHR9KSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5wcm90b3R5cGUucGluZyhudWxsLHtjb25maWc6cGFja2FnZV9jb25maWcsZmV0Y2g6ZmV0Y2gscGFyc2VVcmw6cGFyc2VVcmwsbG9hZEFwaTpsb2FkQXBpfSkudGhlbihmdW5jdGlvbihlKXt0LmNsYXNzTGlzdC5yZW1vdmUoInByb2dyZXNzIiksYWxlcnQoSlNPTi5zdHJpbmdpZnkoZSxudWxsLDQpKX0pfSl9fSx7aWQ6InRlc3RfaHR0cCIsdGV4dDoiV2ViLCBBbmRyb2lkIixidXR0b246ItCS0YvQv9C+0LvQvdC40YLRjCBIVFRQINC30LDQv9GA0L7RgSIsc2V0OmZ1bmN0aW9uKGUpe2ZldGNoKCJodHRwczovL2FwaS5xd2VkbC5jb20vaXAucGhwP2Zvcm1hdD1qc29uIix7aGVhZGVyczp7IkNvcnMtVXNlci1BZ2VudCI6bmF2aWdhdG9yLnVzZXJBZ2VudCsiOyBjb3JzUHJveHkifSxjb3JzUHJveHk6ISFjb3JzUHJveHl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpzb24oKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybntlcnI6ZS50b1N0cmluZygpfX0pLnRoZW4oZnVuY3Rpb24oZSl7by5odHRwPWUscihvKX0pfX0se2lkOiJ0ZXN0X21wNCIsdGV4dDoiV2ViLCBBbmRyb2lkIixidXR0b246ItCS0L7RgdC/0YDQvtC40LfQstC10YHRgtC4IE1QNCIsc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PSJodHRwczovL2ZpbGUtZXhhbXBsZXMtY29tLmdpdGh1Yi5pby91cGxvYWRzLzIwMTcvMDQvZmlsZV9leGFtcGxlX01QNF8xOTIwXzE4TUcubXA0IixuPWUuY2xvc2VzdCgidWwiKS4kKCdbbmFtZT0icGxheWVyIl0nKS52YWx1ZTtzd2l0Y2goY29uc29sZS5sb2coe3BsYXllcjpufSksbil7Y2FzZSJzaGFrYSI6Y2FzZSJpZnJhbWUiOnZhciBvPXFhZC4kKCIjZGlhbG9nX2lmcmFtZSIpLHI9JCgnPGlmcmFtZSBzcmM9Imh0dHBzOi8vYWxleDI4NDQuZ2l0aHViLmlvL3NoYWthLXBsYXllci9pbmRleC5odG1sIiBmcmFtZWJvcmRlcj0iMCIgYWxsb3dmdWxsc2NyZWVuPSJ0cnVlIiBsb2FkaW5nPSJsYXp5Ij4nKS5maXJzdEVsZW1lbnRDaGlsZDtvfHwkKCJzZWN0aW9uIikuYXBwZW5kKG89JCgnPGRpYWxvZyBpZD0iZGlhbG9nX2lmcmFtZSI+PHNlY3Rpb24+PC9zZWN0aW9uPjxmb290ZXI+PGJ1dHRvbj7Ql9Cw0LrRgNGL0YLRjDwvYnV0dG9uPjwvZm9vdGVyPjwvZGlhbG9nPicpLmZpcnN0RWxlbWVudENoaWxkKSxvLnF1ZXJ5U2VsZWN0b3IoInNlY3Rpb24iKS5hcHBlbmQociksby5wb3B1cCgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIucmVtb3ZlKCl9KSxyLm9uKCJsb2FkIixmdW5jdGlvbihlKXt2YXIgbj1uZXcgVVJMKGUudGFyZ2V0LnNyYykub3JpZ2luLnJlcGxhY2UoL15maWxlXDpcL1wvLywibnVsbCIpO2NvbnNvbGUubG9nKCJvcmlnaW4iLG4pO3ZhciBvPWZ1bmN0aW9uKGUpe2Uub3JpZ2luPT1uJiZjb25zb2xlLmxvZygiZXZlbnRzIixlLmRhdGEpfTtuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCgpW2VbMF0uaXNJbnRlcnNlY3Rpbmc/Im9uIjoib2ZmIl0oIm1lc3NhZ2UiLG8pfSkub2JzZXJ2ZShlLnRhcmdldCksZS50YXJnZXQuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToibWVkaWFfcGxheWVyIixzcmM6dH0sIioiKX0se29uY2U6ITB9KTticmVhaztjYXNlImJyb3dzZXIiOnJldHVybiB3aW5kb3cub3Blbih0KTtjYXNlImxpbmsiOnZhciBpPXQuc3BsaXQoIi8iKS5wb3AoKS5zcGxpdCgiIyIpWzBdLnNwbGl0KCI/IilbMF07cmV0dXJuIHByb21wdChpLmVuZHNXaXRoKCIubXBkIik/ImFwcGxpY2F0aW9uL2Rhc2greG1sIjppLmVuZHNXaXRoKCIubXA0Iik/InZpZGVvL21wNCI6ImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsIix0KTtjYXNlImV4dGVybmFsIjpjYXNlInZsYyI6dmFyIGE9e3JldHVybl9yZXN1bHQ6ITAsdHlwZToidmlkZW8vbXA0Iix1cmw6dH07InZsYyI9PW4mJihhLmNvbXBvbmVudD1bIm9yZy52aWRlb2xhbi52bGMiLCJvcmcudmlkZW9sYW4udmxjLmd1aS52aWRlby5WaWRlb1BsYXllckFjdGl2aXR5Il0pLGNvcnNQcm94eS5hc3luYygib3BlbkFzeW5jIixhKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49SlNPTi5wYXJzZShlKTsiMCI9PW4uZXh0cmFfcG9zaXRpb24mJm4uZXh0cmFfZHVyYXRpb249PW4uZXh0cmFfcG9zaXRpb258fCJwbGF5YmFja19jb21wbGV0aW9uIj09bi5lbmRfYnl8fDE9PT1uLmNvZGU/dC50eXBlPSJlbmRlZCI6KHQucG9zaXRpb249bi5wb3NpdGlvbnx8bi5leHRyYV9wb3NpdGlvbnx8bnVsbCkmJih0LnR5cGU9InRpbWV1cGRhdGUiLHQucG9zaXRpb24vPTFlMywodC5kdXJhdGlvbj1uLmR1cmF0aW9ufHxuLmV4dHJhX2R1cmF0aW9ufHxudWxsKSYmKHQuZHVyYXRpb24vPTFlMykpLHQuZGF0YT1uLGFsZXJ0KEpTT04uc3RyaW5naWZ5KHQsbnVsbCwiXHQiKSl9KX19fSx7aWQ6InRlc3RfZnMiLHRleHQ6IkFuZHJvaWQiLGJ1dHRvbjoiVGVzdCBGUyIsZGlzYWJsZWQ6IShjb3JzUHJveHkmJiJvcGVuU3luYyJpbiBjb3JzUHJveHkpLHNldDpmdW5jdGlvbihlKXt2YXIgdD1bXTtjb3JzUHJveHkuYXN5bmMoIndyaXRlRmlsZUFzeW5jIix7cGF0aDoidGVzdF9mcy50eHQiLGRhdGE6ItCf0YDQvtCy0LXRgNC60LAgY2xhc3MuRlMifSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoKCJvazogd3JpdGVGaWxlQXN5bmMgZGF0YTogIitlKSxjb3JzUHJveHkuYXN5bmMoInJlYWRGaWxlQXN5bmMiLHtwYXRoOiJ0ZXN0X2ZzLnR4dCJ9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LnB1c2goIm9rOiByZWFkRmlsZUFzeW5jIGRhdGE6ICIrZSksY29yc1Byb3h5LmFzeW5jKCJ3cml0ZUZpbGVBc3luYyIse3BhdGg6Ii9zZGNhcmQvRG93bmxvYWQvdGVzdF9mcy50eHQiLGRhdGE6ItCf0YDQvtCy0LXRgNC60LAgY2xhc3MuRlMifSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoKCJvazogd3JpdGVGaWxlQXN5bmMgc2RjYXJkOiAiK2UpLGNvcnNQcm94eS5hc3luYygicmVhZEZpbGVBc3luYyIse3BhdGg6Ii9zZGNhcmQvRG93bmxvYWQvdGVzdF9mcy50eHQifSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoKCJvazogcmVhZEZpbGVBc3luYyBzZGNhcmQ6ICIrZSksdH0pfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoKCJlcnI6ICIrZS50b1N0cmluZygpKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYWxlcnQodC5qb2luKCJcbiIpKX0pfSl9fSx7aWQ6ImNvbnZlcnRlciBzeW5jU3RvcmFnZSIsdGV4dDoiV2ViLCBBbmRyb2lkIixidXR0b246IkNvbnZlcnQiLHNldDpmdW5jdGlvbihlKXtQcm9taXNlLmFsbChbImZhdm9yaXRlIiwid2F0Y2hfbGF0ZXIiXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5lbnRyaWVzKHN5bmNTdG9yYWdlW2VdKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlWzFdfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdLnN0YXJ0c1dpdGgoInR0Iil8fGVbMF0uc3RhcnRzV2l0aCgiYyIpP2xvYWRBcGkocGFyc2VVcmwoe2luZm86ZVswXX0pKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybltlWzBdLHQuaWQsW3QubmFtZXx8dC5uYW1lT3JpZyx0LnBvc3Rlcl1dfSk6W2VbMF0sImtwIitlWzBdLFtlWzFdLCJodHRwczovL3N0LmtwLnlhbmRleC5uZXQvaW1hZ2VzL2ZpbG1faXBob25lL2lwaG9uZTM2MF8iK2VbMF0rIi5qcGciXV19KSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3N5bmNTdG9yYWdlLmdldEl0ZW0oZSkucmVtb3ZlSXRlbSh0WzBdKSxzeW5jU3RvcmFnZS5nZXRJdGVtKGUpLnNldEl0ZW0odFsxXSx0WzJdKX0pfSl9KSkudGhlbihmdW5jdGlvbigpe09iamVjdC5lbnRyaWVzKHN5bmNTdG9yYWdlLnRpbWUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hKCIwImluIGVbMV0mJiIxImluIGVbMV0pfSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QudmFsdWVzKGVbMV0pWzBdWzBdO2NvbnNvbGUubG9nKCJjb252ZXJ0OnRpbWU6IitlWzBdKSxzeW5jU3RvcmFnZS5nZXRJdGVtKCJ0aW1lIikucmVtb3ZlSXRlbShlWzBdKSwhZVsxXVswXSYmdCYmc3luY1N0b3JhZ2UuZ2V0SXRlbSgidGltZSIpLnNldEl0ZW0oZVswXS5zdGFydHNXaXRoKCJ0dCIpfHxlWzBdLnN0YXJ0c1dpdGgoImMiKT9lWzBdOiJrcCIrZVswXSx7MDp0LDE6T2JqZWN0LmVudHJpZXMoZVsxXSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdFswXV09dFsxXVsxXSxlfSx7fSl9KX0pLGFsZXJ0KCJvayIpfSl9fV0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD0kKCc8bGkgdGFiaW5kZXg9IjAiIGlkPSJmbGFnXycrZS5pZCsnIj48c3Bhbj48ZGl2PicrKGUudGl0bGV8fGUuaWQpKyI8L2Rpdj48ZGl2PiIrZS50ZXh0KyI8L2Rpdj48L3NwYW4+PC9saT4iKS5maXJzdEVsZW1lbnRDaGlsZDtpZihlLmJ1dHRvbil7dmFyIG49JCgiPHNtYWxsPiIpLmZpcnN0RWxlbWVudENoaWxkLG89JCgnPGJ1dHRvbiBjbGFzcz0iY29sb3IiIG5hbWU9IicrZS5pZCsnIiAnKyhlLmRpc2FibGVkPyJkaXNhYmxlZCI6IiIpKyI+IitlLmJ1dHRvbisiPC9idXR0b24+IikuZmlyc3RFbGVtZW50Q2hpbGQ7by5vbigiY2xpY2siLGZ1bmN0aW9uKHQpe3JldHVybiBlLnNldCh0LnRhcmdldCl9KSxuLmFwcGVuZChvKSx0LmFwcGVuZChuKX1lbHNle3ZhciByPSQoJzxzZWxlY3QgbmFtZT0iJytlLmlkKyciICcrKGUuZGlzYWJsZWQ/ImRpc2FibGVkIjoiIikrIj4iKS5maXJzdEVsZW1lbnRDaGlsZDtsb2NhbFN0b3JhZ2VbIm1vdmllc19mbGFnc18iK2UuaWRdJiYoZS52YWx1ZT1sb2NhbFN0b3JhZ2VbIm1vdmllc19mbGFnc18iK2UuaWRdKSwoZS5vcHRpb25zfHxbWyJmYWxzZSIsItCe0YLQutC70Y7Rh9C40YLRjCJdLFsidHJ1ZSIsItCS0LrQu9GO0YfQuNGC0YwiXV0pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49bmV3IE9wdGlvbih0WzFdLHRbMF0pO3RbMl0/bi5kaXNhYmxlZD0hMDplLnZhbHVlJiZlLnZhbHVlPT10WzBdJiYobi5zZWxlY3RlZD0hMCksci5vcHRpb25zLmFkZChuKX0pLHIub24oImNoYW5nZSIsZnVuY3Rpb24odCl7dmFyIG49dC50YXJnZXQ7ZS5zZXQ/ZS5zZXQobik6ZS5vcHRpb25zfHwiZmFsc2UiIT1uLnZhbHVlP2xvY2FsU3RvcmFnZVsibW92aWVzX2ZsYWdzXyIrbi5uYW1lXT1uLnZhbHVlOmRlbGV0ZSBsb2NhbFN0b3JhZ2VbIm1vdmllc19mbGFnc18iK24ubmFtZV19KSx0LmFwcGVuZChyKX0kKCIjZmxhZ3MiKS5hcHBlbmQodCl9KX0pOw==\"/></script-tpl><script-tpl src=\"https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?skin=desert\"/></script-tpl>';return out;\n}"],["genre","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out='<h2 class=\"h4\">Подборки</h2><div class=\"_\">'; console.log($this);  console.log(location);  console.log(navigator);  $this.res.forEach(function(row) { out+='<a class=\"_c2 card\" style=\"min-height:inherit\" href=\"?search&'+encodeHTML( location.json.genre )+'='+encodeHTML( row.id )+'\"><h2 style=\"white-space: inherit;\">'+encodeHTML( row.name )+'</h2></a>'; }); out+='</div>';return out;\n}"],["home","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out=''; if (!navigator.server) { out+='<article id=\"home_favorite\" hidden><h2 class=\"h4\"><a href=\"?bookmarks=favorite\" class=\"index\" style=\"color: inherit\">Избранное</a></h2><div class=\"carousel\"><div onrender=\"ui.template(this)\"></div><button class=\"prev material-icons\">keyboard_arrow_left</button><button class=\"next material-icons\">keyboard_arrow_right</button></div><br /></article>'; }  if ($this.dvd) { out+='<article id=\"home_dvd\"><h2 class=\"h4\">В DVD</h2><div class=\"carousel\"><div onrender=\"qad.init.carousel(this.parentNode)\">'; $this.dvd.forEach(function(row) { out+='<a href=\"?info='+encodeHTML( row.id )+'\" title=\"'+encodeHTML( row.name )+'\" class=\"menu card _c2\"><div class=\"media\" style=\"--aspect-ratio:1/1.441;\"><img loading=\"lazy\" alt=\"'+encodeHTML( row.name )+'\" src=\"'+encodeHTML( row.poster )+'\" />'; if (row.rating) { out+='<div class=\"rating\">'+encodeHTML( parseFloat(String(row.rating).replace(',', '.')).toFixed(2) )+'</div>'; }else if (row.id.startsWith('kp')) { out+='<div class=\"rating\" onvisibilitychange=\"(event.detail.entry.isIntersecting && event.detail.kill() && (this.style[\\'background-image\\'] = \\'url(https://rating.kinopoisk.ru/'+encodeHTML( row.id.slice(2) )+'.gif)\\'))\"></div>'; } out+='</div><h2>'+encodeHTML( row.name )+'</h2><ul><div>'+encodeHTML( row.name )+'<br />'; if (row.age) { out+=''+encodeHTML( row.age )+' &#183; '; }  if (row.year) { out+=''+encodeHTML( row.year )+' &#183; '; }  if (row.rating) { out+=''+encodeHTML( row.rating )+' <i class=\"material-icons star\">star</i>'; }  if (row.profession) { out+='<br />'+encodeHTML( row.profession.join(', ') ); } out+='</div>'; if (!navigator.server) { out+='<li class=\"favorite\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.favorite(this)\" hidden></li><li class=\"watch_later\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.watch_later(this)\" hidden></li>'; } out+='</ul></a>'; }); out+='</div><button class=\"prev material-icons\">keyboard_arrow_left</button><button class=\"next material-icons\">keyboard_arrow_right</button></div><br /></article>'; }  if ($this.popular) { out+='<article id=\"home_popular\"><h2 class=\"h4\">Популярное</h2><div class=\"carousel\"><div onrender=\"qad.init.carousel(this.parentNode)\">'; $this.popular.forEach(function(row) { out+='<a href=\"?info='+encodeHTML( row.id )+'\" title=\"'+encodeHTML( row.name )+'\" class=\"menu card _c2\"><div class=\"media\" style=\"--aspect-ratio:1/1.441;\"><img loading=\"lazy\" alt=\"'+encodeHTML( row.name )+'\" src=\"'+encodeHTML( row.poster )+'\" />'; if (row.rating) { out+='<div class=\"rating\">'+encodeHTML( parseFloat(String(row.rating).replace(',', '.')).toFixed(2) )+'</div>'; }else if (row.id.startsWith('kp')) { out+='<div class=\"rating\" onvisibilitychange=\"(event.detail.entry.isIntersecting && event.detail.kill() && (this.style[\\'background-image\\'] = \\'url(https://rating.kinopoisk.ru/'+encodeHTML( row.id.slice(2) )+'.gif)\\'))\"></div>'; } out+='</div><h2>'+encodeHTML( row.name )+'</h2><ul><div>'+encodeHTML( row.name )+'<br />'; if (row.age) { out+=''+encodeHTML( row.age )+' &#183; '; }  if (row.year) { out+=''+encodeHTML( row.year )+' &#183; '; }  if (row.rating) { out+=''+encodeHTML( row.rating )+' <i class=\"material-icons star\">star</i>'; }  if (row.profession) { out+='<br />'+encodeHTML( row.profession.join(', ') ); } out+='</div>'; if (!navigator.server) { out+='<li class=\"favorite\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.favorite(this)\" hidden></li><li class=\"watch_later\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.watch_later(this)\" hidden></li>'; } out+='</ul></a>'; }); out+='</div><button class=\"prev material-icons\">keyboard_arrow_left</button><button class=\"next material-icons\">keyboard_arrow_right</button></div><br /></article>'; }  if ($this.films) { out+='<article id=\"home_films\"><h2 class=\"h4\">Фильмы</h2><div class=\"carousel\"><div onrender=\"qad.init.carousel(this.parentNode)\">'; $this.films.forEach(function(row) { out+='<a href=\"?info='+encodeHTML( row.id )+'\" title=\"'+encodeHTML( row.name )+'\" class=\"menu card _c2\"><div class=\"media\" style=\"--aspect-ratio:1/1.441;\"><img loading=\"lazy\" alt=\"'+encodeHTML( row.name )+'\" src=\"'+encodeHTML( row.poster )+'\" />'; if (row.rating) { out+='<div class=\"rating\">'+encodeHTML( parseFloat(String(row.rating).replace(',', '.')).toFixed(2) )+'</div>'; }else if (row.id.startsWith('kp')) { out+='<div class=\"rating\" onvisibilitychange=\"(event.detail.entry.isIntersecting && event.detail.kill() && (this.style[\\'background-image\\'] = \\'url(https://rating.kinopoisk.ru/'+encodeHTML( row.id.slice(2) )+'.gif)\\'))\"></div>'; } out+='</div><h2>'+encodeHTML( row.name )+'</h2><ul><div>'+encodeHTML( row.name )+'<br />'; if (row.age) { out+=''+encodeHTML( row.age )+' &#183; '; }  if (row.year) { out+=''+encodeHTML( row.year )+' &#183; '; }  if (row.rating) { out+=''+encodeHTML( row.rating )+' <i class=\"material-icons star\">star</i>'; }  if (row.profession) { out+='<br />'+encodeHTML( row.profession.join(', ') ); } out+='</div>'; if (!navigator.server) { out+='<li class=\"favorite\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.favorite(this)\" hidden></li><li class=\"watch_later\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.watch_later(this)\" hidden></li>'; } out+='</ul></a>'; }); out+='</div><button class=\"prev material-icons\">keyboard_arrow_left</button><button class=\"next material-icons\">keyboard_arrow_right</button></div><br /></article>'; }  if ($this.serials) { out+='<article id=\"home_serials\"><h2 class=\"h4\">Сериалы</h2><div class=\"carousel\"><div onrender=\"qad.init.carousel(this.parentNode)\">'; $this.serials.forEach(function(row) { out+='<a href=\"?info='+encodeHTML( row.id )+'\" title=\"'+encodeHTML( row.name )+'\" class=\"menu card _c2\"><div class=\"media\" style=\"--aspect-ratio:1/1.441;\"><img loading=\"lazy\" alt=\"'+encodeHTML( row.name )+'\" src=\"'+encodeHTML( row.poster )+'\" />'; if (row.rating) { out+='<div class=\"rating\">'+encodeHTML( parseFloat(String(row.rating).replace(',', '.')).toFixed(2) )+'</div>'; }else if (row.id.startsWith('kp')) { out+='<div class=\"rating\" onvisibilitychange=\"(event.detail.entry.isIntersecting && event.detail.kill() && (this.style[\\'background-image\\'] = \\'url(https://rating.kinopoisk.ru/'+encodeHTML( row.id.slice(2) )+'.gif)\\'))\"></div>'; } out+='</div><h2>'+encodeHTML( row.name )+'</h2><ul><div>'+encodeHTML( row.name )+'<br />'; if (row.age) { out+=''+encodeHTML( row.age )+' &#183; '; }  if (row.year) { out+=''+encodeHTML( row.year )+' &#183; '; }  if (row.rating) { out+=''+encodeHTML( row.rating )+' <i class=\"material-icons star\">star</i>'; }  if (row.profession) { out+='<br />'+encodeHTML( row.profession.join(', ') ); } out+='</div>'; if (!navigator.server) { out+='<li class=\"favorite\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.favorite(this)\" hidden></li><li class=\"watch_later\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.watch_later(this)\" hidden></li>'; } out+='</ul></a>'; }); out+='</div><button class=\"prev material-icons\">keyboard_arrow_left</button><button class=\"next material-icons\">keyboard_arrow_right</button></div><br /></article>'; } return out;\n}"],["info","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out='<article class=\"_ info\"><div class=\"_cd3 _ct3 _cp12 _r4 img\"><img _height=\"260\" style=\"max-width: 100%\" loading=\"lazy\" alt=\"'+encodeHTML( $this.name )+'\" src=\"'+encodeHTML( $this.poster )+'\" /></div><div class=\"_cd9 _ct5 _cp12 nav\"><nav class=\"tabs\">'; if ($this.sources) {  if (navigator.server) { out+='<iframe src=\"'+encodeHTML( $this.sources.iframe_url )+'\" frameborder=\"0\" allowfullscreen=\"true\" style=\"height: 360px\" loading=\"lazy\"></iframe>'; }else{ out+='<button class=\"color\" id=\"watch_continue\" onclick=\"ui.watch_continue(\\''+encodeHTML( $this.id )+'\\')\" onrender=\"(!!syncStorage.time[location.json.info] && (this.hidden = false))\" hidden>Продолжить просмотр</button>'; if ($this.trailer) { out+='<button class=\"color\" onclick=\"iframe(\\''+encodeHTML( $this.trailer )+'\\')\">Трейлер</button>'; }  }  }  if (([ 'localhost', '100.115.92.202', 'movies.qwedl.com', 'qwedl.github.io' ].includes(location.hostname) && !navigator.server) || (location.protocol == 'file:')) { out+='<button class=\"color\" data-sources=\"'+encodeHTML( JSON.stringify({id: $this.id,ids: $this.ids,name: $this.name,nameOrig: $this.nameOrig,typeOrig: $this.typeOrig,type: $this.type,sources: $this.sources}) )+'\" onclick=\"sources(null, this)\">Выбор озвучки</button><button class=\"favorite\" data-id=\"'+encodeHTML( $this.id )+'\" data-name=\"'+encodeHTML( ($this.name || $this.nameOrig) )+'\" data-poster=\"'+encodeHTML( $this.poster )+'\" onrender=\"ui.favorite(this)\" hidden>favorite</button><button class=\"watch_later\" data-id=\"'+encodeHTML( $this.id )+'\" data-name=\"'+encodeHTML( ($this.name || $this.nameOrig) )+'\" data-poster=\"'+encodeHTML( $this.poster )+'\" onrender=\"ui.watch_later(this)\" hidden>watch_later</button>'; } out+='<button class=\"material-icons active hide_tv\" onclick=\"share()\">share</button></nav></div><div class=\"_cd9 _ct5 _cp12 title\"><h2>'+encodeHTML( $this.name ); if ($this.nameOrig && ($this.name != $this.nameOrig)) { out+='&#160;/ '+encodeHTML( $this.nameOrig ); } out+='</h2><div class=\"flex\">'; if ($this.age) { out+='<span>'+encodeHTML( $this.age )+'</span>&#160;'; }  if ($this.year) { out+='<a href=\"?year='+encodeHTML( $this.year )+'\" class=\"index\">'+encodeHTML( $this.year )+'</a>&#160;'; }  if ($this.duration) { out+='<span>'+encodeHTML( Math.round($this.duration / 60) )+' мин</span>&#160;'; }  if ($this.rating) { out+='<a href=\"'+encodeHTML( $this.rating_url )+'\" target=\"_blank\" class=\"flex index\">'+encodeHTML( $this.rating )+'<i class=\"material-icons star\">star</i></a>&#160;'; } out+='</div></div><div class=\"_cd9 _ct5 _cp12 desc\" data-more_max=\"Скрыть\" data-more_min=\"Ещё\" tabindex=\"-1\"><p>'+encodeHTML( $this.description )+'</p>'; if ($this.country) { out+='<div><br /><b>Страна</b><div>'; $this.country.forEach(function(row, i) { out+=''+encodeHTML( (i && ', ') )+'<a href=\"?search&country='+encodeHTML( (row.id || row.name) )+'\" class=\"index\">'+encodeHTML( row.name )+'</a>'; }); out+=' </div></div>'; }  if ($this.genre) { out+='<div><br /><b>Жанр</b><div>'; $this.genre.forEach(function(row, i) { out+=''+encodeHTML( (i && ', ') )+'<a href=\"?search&genre='+encodeHTML( (row.id || row.name) )+'\" class=\"index\">'+encodeHTML( row.name )+'</a>'; }); out+=' </div></div>'; }  if ($this.ids.kinopoisk) { out+='<div class=\"hide\">'; if ($this.writer) { out+='<div><br /><b>Сценарист</b><div>'; $this.writer.forEach(function(row, i) { out+=''+encodeHTML( (i && ', ') )+'<a href=\"?staff&id=kp'+encodeHTML( $this.ids.kinopoisk )+'&name='+encodeHTML( row )+'\" class=\"index\">'+encodeHTML( row )+'</a>'; }); out+=' </div></div>'; }  if ($this.producer) { out+='<div><br /><b>Продюсер</b><div>'; $this.producer.forEach(function(row, i) { out+=''+encodeHTML( (i && ', ') )+'<a href=\"?staff&id=kp'+encodeHTML( $this.ids.kinopoisk )+'&name='+encodeHTML( row )+'\" class=\"index\">'+encodeHTML( row )+'</a>'; }); out+=' </div></div>'; }  if ($this.actor) { out+='<div><br /><b>Актеры</b><div>'; $this.actor.forEach(function(row, i) { out+=''+encodeHTML( (i && ', ') )+'<a href=\"?staff&id=kp'+encodeHTML( $this.ids.kinopoisk )+'&name='+encodeHTML( row )+'\" class=\"index\">'+encodeHTML( row )+'</a>'; }); out+=' </div></div>'; } out+='</div>'; } out+='</div></article><dialog id=\"dialog_share\"></dialog><dialog id=\"dialog_sources\"></dialog><dialog id=\"dialog_torrents\"><form method=\"dialog\"><h2>Торренты</h2><section></section><footer><button type=\"reset\">Закрыть</button></footer></form></dialog><dialog id=\"dialog_iframe\"><section></section><footer><button>Закрыть</button></footer></dialog><script-tpl src=\"data:text/javascript;base64,ZnVuY3Rpb24gc291cmNlcyhlLHMpe3MmJihzLmNsYXNzTGlzdC5hZGQoInNwaW5uZXIiKSxzLmRhdGFzZXQuc291cmNlcyYmKGU9SlNPTi5wYXJzZShzLmRhdGFzZXQuc291cmNlcykpKTt2YXIgbz1wYXJzZVVybCh7c291cmNlczp7aWRzOmUuaWRzLG5hbWU6ZS5uYW1lLG5hbWVPcmlnOmUubmFtZU9yaWcsdHlwZTplLnR5cGVPcmlnfHxlLnR5cGUsc291cmNlczplLnNvdXJjZXMsZW5hYmxlZDpsb2NhbFN0b3JhZ2Uuc291cmNlc319KTtyZXR1cm4gbG9hZEFwaShvKS50aGVuKGZ1bmN0aW9uKG4pe2lmKGNvbnNvbGUubG9nKCJzb3VyY2VzIix7cm91dGU6byxyZXM6bixldjplfSkscyYmcy5jbGFzc0xpc3QucmVtb3ZlKCJzcGlubmVyIiksbi5pZD1lLmlkLCJzZWFzb25zImluIG4pe3ZhciByPXN5bmNTdG9yYWdlLmdldEl0ZW0oInRpbWUiKS5nZXRJdGVtKG4uaWQpO3ImJk9iamVjdC5rZXlzKHIuZ2V0SXRlbSgiMSIpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBzPWUuc3BsaXQoIl8iKTtuLnNlYXNvbnNbc1swXV0uZXBpc29kZXNbc1sxXV0mJihuLnNlYXNvbnNbc1swXV0uZXBpc29kZXNbc1sxXV0udmlzaWJpbGl0eT0hMCl9KSxjb25zb2xlLmxvZygiZGlhbG9nX3NvdXJjZXMiLG4pfXJldHVybiBkaWFsb2dfc291cmNlcyhuLGUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbn0pfSl9ZnVuY3Rpb24gZGlhbG9nX3NvdXJjZXMoZSxzKXt2YXIgbz0kKCIjZGlhbG9nX3NvdXJjZXMiKS5odG1sKCIiKTtyZXR1cm4gcWFkLnZpZXcoe2lkOiJkaWFsb2dfc291cmNlcyIsaW5uZXJIVE1MOiI8P2pzLSBkZWYuX2RpYWxvZ19zb3VyY2VzID8+In0sZSkudGhlbihmdW5jdGlvbihlKXtvLmFwcGVuZCgkKGUpKSxvLnBvcHVwKCkudGhlbihmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhlKX0pfSl9\"/></script-tpl><script-tpl src=\"data:text/javascript;base64,ZnVuY3Rpb24gc2hhcmUoKXt2YXIgZT0kKCIjZGlhbG9nX3NoYXJlIikuaHRtbCgiIik7cWFkLnZpZXcoe2lkOiJkaWFsb2dfc2hhcmUiLGlubmVySFRNTDoiPD9qcy0gZGVmLl9kaWFsb2dfc2hhcmUgPz4ifSkudGhlbihmdW5jdGlvbih0KXtlLmFwcGVuZCgkKHQpKTt2YXIgbj17dGl0bGU6ZG9jdW1lbnQudGl0bGUsdGV4dDokKCdtZXRhW25hbWU9ImRlc2NyaXB0aW9uIl0nKS5jb250ZW50LHVybDpsb2NhdGlvbi5ocmVmLnNwbGl0KCIjIilbMF19LHI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGlua1tyZWw9Y2Fub25pY2FsXSIpOyhyJiYobi51cmw9ci5ocmVmKSxuYXZpZ2F0b3Iuc2hhcmUpP25hdmlnYXRvci5zaGFyZShuKTooZS4kKCdbbmFtZT0idXJsIl0nKS52YWx1ZT1uLnVybCxlLiQoIi5hY3Rpb24iKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KG4udXJsKS50aGVuKGZ1bmN0aW9uKCl7cWFkLnNuYWNrYmFyKCLQodGB0YvQu9C60LAg0YHQutC+0L/QuNGA0L7QstCw0L3QsCDQsiDQsdGD0YTQtdGAINC+0LHQvNC10L3QsCIpLGUuY2xvc2UoKX0pfSksZS4kJCgiYSIpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuaHJlZj1lLmRhdGFzZXQuaHJlZitlbmNvZGVVUklDb21wb25lbnQobi51cmwpfSksZS5wb3B1cCgpKX0pfWZ1bmN0aW9uIGlmcmFtZShlKXt2YXIgdD1xYWQuJCgiI2RpYWxvZ19pZnJhbWUiKSxuPSQoJzxpZnJhbWUgc3JjPSInK2UrJyIgZnJhbWVib3JkZXI9IjAiIGFsbG93ZnVsbHNjcmVlbj0idHJ1ZSIgbG9hZGluZz0ibGF6eSI+JykuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIHQucXVlcnlTZWxlY3Rvcigic2VjdGlvbiIpLmFwcGVuZChuKSx0Lm9wZW58fHQucG9wdXAoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuLnJlbW92ZSgpfSksbn1mdW5jdGlvbiBwbGF5ZXIoZSx0LG4pe3ZhciByLGEscyxpLG89bmF2aWdhdG9yLnN0b3JhZ2VBdmFpbGFibGU/bG9jYWxTdG9yYWdlLm1vdmllc19mbGFnc19wbGF5ZXJ8fChjb3JzUHJveHkmJiJvcGVuU3luYyJpbiBjb3JzUHJveHk/ImV4dGVybmFsIjoic2hha2EiKToiaWZyYW1lIjtpZih0KXt2YXIgbCxjPSQoIiN3YXRjaF9jb250aW51ZSIpO2k9e25hbWU6ZG9jdW1lbnQudGl0bGUscG9zdGVyOiQoImltZyIpLnNyYyxpZDoobD10LmNsb3Nlc3QoIltkYXRhLWlkXSIpKSYmbC5kYXRhc2V0LmlkLHRyYW5zbGF0b3I6KGw9dC5jbG9zZXN0KCJbZGF0YS10cmFuc2xhdG9yXSIpKSYmbC5kYXRhc2V0LnRyYW5zbGF0b3Isc2Vhc29uOihsPXQuY2xvc2VzdCgiW2RhdGEtc2Vhc29uXSIpKSYmbC5kYXRhc2V0LnNlYXNvbixlcGlzb2RlOihsPXQuY2xvc2VzdCgiW2RhdGEtZXBpc29kZV0iKSkmJiEhbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLiQoIi5tYXRlcmlhbC1pY29ucyIpLmh0bWwoInZpc2liaWxpdHkiKSYmbC5kYXRhc2V0LmVwaXNvZGV9LGw9bnVsbCxjJiZjLmhpZGRlbiYmKGMuaGlkZGVuPSExKX1mdW5jdGlvbiBwKGUpe2lmKGkmJmkuaWQmJiJ0aW1ldXBkYXRlIj09ZS50eXBlKXt2YXIgdD1NYXRoLmZsb29yKGUuY3VycmVudFRpbWUpOyghc3x8TWF0aC5hYnMocy10KT49NjApJiYoc3luY1N0b3JhZ2UudGltZVtpLmlkXT9zeW5jU3RvcmFnZS5nZXRJdGVtKCJ0aW1lIikuZ2V0SXRlbShpLmlkKS5nZXRJdGVtKCIwIikhPWkudHJhbnNsYXRvciYmc3luY1N0b3JhZ2UuZ2V0SXRlbSgidGltZSIpLmdldEl0ZW0oaS5pZCkuc2V0SXRlbSgwLGkudHJhbnNsYXRvcik6c3luY1N0b3JhZ2UuZ2V0SXRlbSgidGltZSIpLnNldEl0ZW0oaS5pZCx7MDppLnRyYW5zbGF0b3IsMTpudWxsPT1pLnNlYXNvbj90Ont9fSksbnVsbD09aS5zZWFzb24/c3luY1N0b3JhZ2UuZ2V0SXRlbSgidGltZSIpLmdldEl0ZW0oaS5pZCkuc2V0SXRlbSgiMSIscz10KTpzeW5jU3RvcmFnZS5nZXRJdGVtKCJ0aW1lIikuZ2V0SXRlbShpLmlkKS5nZXRJdGVtKCIxIikuc2V0SXRlbShpLnNlYXNvbisiXyIraS5lcGlzb2RlLHM9dCkpfWVsc2UidGltZXVwZGF0ZSI9PSFlLnR5cGUmJmNvbnNvbGUubG9nKCJfbWVzc2FnZV8iLGUsaSl9ZnVuY3Rpb24gdSgpe2lmKCFpfHwhaS5pZHx8IXN5bmNTdG9yYWdlLnRpbWVbaS5pZF0pcmV0dXJuIG51bGw7dmFyIGU9c3luY1N0b3JhZ2UuZ2V0SXRlbSgidGltZSIpLmdldEl0ZW0oaS5pZCkuZ2V0SXRlbSgiMSIpLHQ9bnVsbD09aS5zZWFzb24/ZTplLmdldEl0ZW0oaS5zZWFzb24rIl8iK2kuZXBpc29kZSk7cmV0dXJuIHQmJnQ+MTA/K3QtMTA6bnVsbH1mdW5jdGlvbiBkKGUpe2lmKGUuaW5jbHVkZXMoIi5tM3U4Iil8fCFlLmluY2x1ZGVzKCIuc3RyZWFtdmlkLiIpfHxlLmluY2x1ZGVzKCIveC1lbi14LyIpKXJldHVybiBlO3ZhciB0PU1hdGgucm91bmQoRGF0ZS5ub3coKS8xZTMvNjAvNjApLG49bmV3IFVSTChlKTtyZXR1cm4gbi5vcmlnaW4rIi94LWVuLXgvIitidG9hKHQrIi8iK24ucGF0aG5hbWUrbi5zZWFyY2gpLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLmluZGV4T2YoZSk7cmV0dXJuLTE8dD8iRGxDaEVYaXRMT05ZUmtGakFzbkJieW1XelNITXFLUGdRWnB2d2Vyb2ZKVFZkSXVVY3hhRyJbdF06ZX0pLmpvaW4oIiIpfWlmKCJpbmZvImluIGxvY2F0aW9uLmpzb24/KHI9SlNPTi5wYXJzZShhdG9iKGUpKSxhPWZ1bmN0aW9uKCl7cmV0dXJuIHQmJnQuY2xhc3NMaXN0LmFkZCgicHJvZ3Jlc3MiKSxsb2FkQXBpKHBhcnNlVXJsKHtzb3VyY2VzOntzb3VyY2VzOnJ9fSkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3JjXz1PYmplY3QudmFsdWVzKGUuc3JjKS5zbGljZSgtMSlbMF0sY29uc29sZS5sb2coInNvdXJjZXMiLGUpLHQmJnQuY2xhc3NMaXN0LnJlbW92ZSgicHJvZ3Jlc3MiKSxlfSl9KToidHYiaW4gbG9jYXRpb24uanNvbiYmKHI9Imh0dHBzOi8vb25saW5ldHYub25lIitlLGNvcnNQcm94eXx8KHI9Imh0dHBzOi8vcHJveHkuZmV0Y2hjb3JzLndvcmtlcnMuZGV2LyIrcikscis9IiZjb3JzUHJveHk9IitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe3JlZmVyZXI6Imh0dHBzOi8vb25saW5ldHYub25lLyJ9KSksYT1mdW5jdGlvbigpe3JldHVybiB0JiZ0LmNsYXNzTGlzdC5hZGQoInNwaW5uZXIiKSxmZXRjaChyKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRleHQoKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQmJnQuY2xhc3NMaXN0LnJlbW92ZSgic3Bpbm5lciIpLHtzcmNfOmUucmVwbGFjZSgvKFxufFx0fFxyKS9nLCIiKS5yZXBsYWNlKC8oXiguKj8pZmlsZToifCIoLio/KSR8IG9yKC4qPykkfFxbKC4qPylcXSkvZywiIil9fSl9KSxjb25zb2xlLmxvZygicGxheWVyIixyKSxyKXN3aXRjaChvKXtjYXNlImlmcmFtZSI6cmV0dXJuIGlmcmFtZSgic3RyaW5nIj09dHlwZW9mIHI/cjpyWzBdWzFdLmlmcmFtZSk7Y2FzZSJicm93c2VyIjpyZXR1cm4gYSgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5vcGVuKGUuc3JjXyl9KTtjYXNlImxpbmsiOnJldHVybiBhKCkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1lLnNyY18uc3BsaXQoIi8iKS5wb3AoKS5zcGxpdCgiIyIpWzBdLnNwbGl0KCI/IilbMF07cHJvbXB0KGUudHlwZXx8KHQuZW5kc1dpdGgoIi5tcGQiKT8iYXBwbGljYXRpb24vZGFzaCt4bWwiOnQuZW5kc1dpdGgoIi5tcDQiKT8idmlkZW8vbXA0IjoiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmwiKSxlLnNyY18pfSk7Y2FzZSJzaGFrYSI6cmV0dXJuIGEoKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXt0eXBlOiJtZWRpYV9wbGF5ZXIiLHBsYXlsaXN0Olt7c3JjOmUuc3JjX31dfTtlLnR5cGUmJih0LnBsYXlsaXN0WzBdLnR5cGU9ZS50eXBlKSxlLnN1YnRpdGxlcyYmKHQucGxheWxpc3RbMF0uc3VidGl0bGVzPWUuc3VidGl0bGVzKSxpJiZpLmlkJiYodC5wbGF5bGlzdFswXS50aXRsZT1pLm5hbWUsdC5wbGF5bGlzdFswXS5wb3N0ZXI9aS5wb3N0ZXIsdC5wbGF5bGlzdFswXS5hcnRpc3Q9W2kuc2Vhc29uJiYi0KHQtdC30L7QvTogIitpLnNlYXNvbixpLmVwaXNvZGUmJiLQodC10YDQuNGPOiAiK2kuZXBpc29kZSxpLnRyYW5zbGF0b3JdLmZpbHRlcihCb29sZWFuKS5qb2luKCI7ICIpLHQucGxheWxpc3RbMF0uc3RhcnRUaW1lPXUoKSksZS5zcmNfLmluY2x1ZGVzKCIuc3RyZWFtdmlkLiIpJiYhZS5zcmNfLmluY2x1ZGVzKCIveC1lbi14LyIpJiYodC5zY2hlbWU9e2h0dHBzOlsiZnVuY3Rpb24odXJpLCByZXF1ZXN0LCByZXF1ZXN0VHlwZSwgcHJvZ3Jlc3NVcGRhdGVkKSB7IiwicmV0dXJuIHNoYWthLm5ldC5IdHRwRmV0Y2hQbHVnaW4ucGFyc2UoIitkLnRvU3RyaW5nKCkrIih1cmkpLCByZXF1ZXN0LCByZXF1ZXN0VHlwZSwgcHJvZ3Jlc3NVcGRhdGVkKTsiLCJ9Il0uam9pbigiXG4iKX0pLGlmcmFtZSgiaHR0cHM6Ly9hbGV4Mjg0NC5naXRodWIuaW8vc2hha2EtcGxheWVyL2luZGV4Lmh0bWwiKS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbihlKXt2YXIgbj1uZXcgVVJMKGUudGFyZ2V0LnNyYykub3JpZ2luLnJlcGxhY2UoL15maWxlXDpcL1wvLywibnVsbCIpLHI9ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIm9ubWVzc2FnZSIse2VfOmV9LGUub3JpZ2luPT1uJiZlLmRhdGEmJiJ0aW1ldXBkYXRlIiE9ZS5kYXRhLnR5cGUpLGUub3JpZ2luPT1uJiZlLmRhdGEmJiJ0aW1ldXBkYXRlIiE9ZS5kYXRhLnR5cGUmJnAoZS5kYXRhKX07bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGUsdCl7cmV0dXJuICQoKVtlWzBdLmlzSW50ZXJzZWN0aW5nPyJvbiI6Im9mZiJdKCJtZXNzYWdlIixyKX0pLm9ic2VydmUoZS50YXJnZXQpLGUudGFyZ2V0LmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UodCwiKiIpfSx7b25jZTohMH0pfSk7Y2FzZSJleHRlcm5hbCI6Y2FzZSJ2bGMiOnJldHVybiBhKCkudGhlbihmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PWUuc3JjXy5zcGxpdCgiLyIpLnBvcCgpLnNwbGl0KCIjIilbMF0uc3BsaXQoIj8iKVswXSxuPXtyZXM6ZSxyZXR1cm5fcmVzdWx0OiEwLHR5cGU6ZS50eXBlfHwodC5lbmRzV2l0aCgiLm1wZCIpPyJhcHBsaWNhdGlvbi9kYXNoK3htbCI6dC5lbmRzV2l0aCgiLm1wNCIpPyJ2aWRlby9tcDQiOiJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybCIpLHVybDplLnNyY199O2lmKGkmJmkuaWQpe3ZhciByPXUoKTtyJiYobi5wb3NpdGlvbj1uLnN0YXJ0ZnJvbT0xZTMqciksbi50aXRsZT1uLmZvcmNlbmFtZT1pLm5hbWUrKGkuc2Vhc29uJiZpLmVwaXNvZGU/IiAoIitpLnNlYXNvbisieCIraS5lcGlzb2RlKyIpIjoiIikrIiBbIitpLnRyYW5zbGF0b3IrIl0ifWUuc3VidGl0bGVzJiYobi5mb3JjZWRzcnQ9KG4uc3Vicz1PYmplY3QudmFsdWVzKGUuc3VidGl0bGVzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiRVUkwkOiIrZX0pKVswXS5zbGljZSg2KSksInZsYyI9PW8mJihuLmNvbXBvbmVudD1bIm9yZy52aWRlb2xhbi52bGMiLCJvcmcudmlkZW9sYW4udmxjLmd1aS52aWRlby5WaWRlb1BsYXllckFjdGl2aXR5Il0pLGNvcnNQcm94eS5hc3luYygib3BlbkFzeW5jIixuKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXt0cmFjazpufSxyPUpTT04ucGFyc2UoZSk7IjAiPT1yLmV4dHJhX3Bvc2l0aW9uJiZyLmV4dHJhX2R1cmF0aW9uPT1yLmV4dHJhX3Bvc2l0aW9ufHwicGxheWJhY2tfY29tcGxldGlvbiI9PXIuZW5kX2J5fHwxPT09ci5jb2RlP3QudHlwZT0iZW5kZWQiOih0LmN1cnJlbnRUaW1lPXIucG9zaXRpb258fHIuZXh0cmFfcG9zaXRpb258fG51bGwpJiYodC50eXBlPSJ0aW1ldXBkYXRlIix0LmN1cnJlbnRUaW1lLz0xZTMsKHQuZHVyYXRpb249ci5kdXJhdGlvbnx8ci5leHRyYV9kdXJhdGlvbnx8bnVsbCkmJih0LmR1cmF0aW9uLz0xZTMpKSx0LmRhdGE9cixhbGVydChKU09OLnN0cmluZ2lmeSh0LG51bGwsIlx0IikpLHAodCl9KX1pZihlLnNyY18uaW5jbHVkZXMoIi5zdHJlYW12aWQuIikmJiFlLnNyY18uaW5jbHVkZXMoIi94LWVuLXgvIikpcmV0dXJuIGZldGNoKGUuc3JjXykudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0KCl9KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciByPWUuc3JjXy5zcGxpdCgiLyIpLnNsaWNlKDAsLTEpLmpvaW4oIi8iKSsiLyI7cmV0dXJuIGNvcnNQcm94eS5hc3luYygid3JpdGVGaWxlQXN5bmMiLHtwYXRoOiIvc2RjYXJkL0Rvd25sb2FkL3BsYXkubTN1OCIsZGF0YTpuLnNwbGl0KCJcbiIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZSYmIWUuc3RhcnRzV2l0aCgiIyIpP2QocitlKTplfSkuam9pbigiXG4iKX0pLnRoZW4oZnVuY3Rpb24obil7ZS5zcmNfPW4sdChlKX0pfSk7dChlKX0pO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZXJyb3IoImVyciIsbyxyKX19\"/></script-tpl><style>li[hidden] { display: none }</style>';return out;\n}"],["languages","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out='<h2 class=\"h4\">Субтитры</h2><div class=\"_\">'; $this.res.forEach(function(row) { out+='<a href=\"?info='+encodeHTML( row.id )+'\" title=\"'+encodeHTML( row.name )+'\" class=\"menu card _c2\"><div class=\"media\" style=\"--aspect-ratio:1/1.441;\"><img loading=\"lazy\" alt=\"'+encodeHTML( row.name )+'\" src=\"'+encodeHTML( row.poster )+'\" />'; if (row.rating) { out+='<div class=\"rating\">'+encodeHTML( parseFloat(String(row.rating).replace(',', '.')).toFixed(2) )+'</div>'; }else if (row.id.startsWith('kp')) { out+='<div class=\"rating\" onvisibilitychange=\"(event.detail.entry.isIntersecting && event.detail.kill() && (this.style[\\'background-image\\'] = \\'url(https://rating.kinopoisk.ru/'+encodeHTML( row.id.slice(2) )+'.gif)\\'))\"></div>'; } out+='</div><h2>'+encodeHTML( row.name )+'</h2><ul><div>'+encodeHTML( row.name )+'<br />'; if (row.age) { out+=''+encodeHTML( row.age )+' &#183; '; }  if (row.year) { out+=''+encodeHTML( row.year )+' &#183; '; }  if (row.rating) { out+=''+encodeHTML( row.rating )+' <i class=\"material-icons star\">star</i>'; }  if (row.profession) { out+='<br />'+encodeHTML( row.profession.join(', ') ); } out+='</div>'; if (!navigator.server) { out+='<li class=\"favorite\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.favorite(this)\" hidden></li><li class=\"watch_later\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.watch_later(this)\" hidden></li>'; } out+='</ul></a>'; }); out+='</div><center id=\"pagination\" onrender=\"(\\'ui\\' in window) && ui.pagination(this)\">'; if ((location.json.page || 1) == 1) { out+='<button class=\"material-icons\" disabled>keyboard_arrow_left</button>'; }else{ out+='<a href=\"?'+encodeHTML( (new URLSearchParams(Object.assign(location.json, {page: parseInt(location.json.page || 1) - 1}))).toString() )+'\" class=\"prev\"><button class=\"material-icons\">keyboard_arrow_left</button></a>'; } out+='<span class=\"chip\">'+encodeHTML( (location.json.page || 1) )+'</span>'; if ($this.res.length != 24) { out+='<button class=\"material-icons\" disabled>keyboard_arrow_right</button>'; }else{ out+='<a href=\"?'+encodeHTML( (new URLSearchParams(Object.assign(location.json, {page: parseInt(location.json.page || 1) + 1}))).toString() )+'\" class=\"next\"><button class=\"material-icons\">keyboard_arrow_right</button></a>'; } out+='</center>';return out;\n}"],["sbs","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out='<h2 class=\"h4\">3D контент</h2><div class=\"_\">'; $this.res.forEach(function(row) { out+='<a href=\"?info='+encodeHTML( row.id )+'\" title=\"'+encodeHTML( row.name )+'\" class=\"menu card _c2\"><div class=\"media\" style=\"--aspect-ratio:1/1.441;\"><img loading=\"lazy\" alt=\"'+encodeHTML( row.name )+'\" src=\"'+encodeHTML( row.poster )+'\" />'; if (row.rating) { out+='<div class=\"rating\">'+encodeHTML( parseFloat(String(row.rating).replace(',', '.')).toFixed(2) )+'</div>'; }else if (row.id.startsWith('kp')) { out+='<div class=\"rating\" onvisibilitychange=\"(event.detail.entry.isIntersecting && event.detail.kill() && (this.style[\\'background-image\\'] = \\'url(https://rating.kinopoisk.ru/'+encodeHTML( row.id.slice(2) )+'.gif)\\'))\"></div>'; } out+='</div><h2>'+encodeHTML( row.name )+'</h2><ul><div>'+encodeHTML( row.name )+'<br />'; if (row.age) { out+=''+encodeHTML( row.age )+' &#183; '; }  if (row.year) { out+=''+encodeHTML( row.year )+' &#183; '; }  if (row.rating) { out+=''+encodeHTML( row.rating )+' <i class=\"material-icons star\">star</i>'; }  if (row.profession) { out+='<br />'+encodeHTML( row.profession.join(', ') ); } out+='</div>'; if (!navigator.server) { out+='<li class=\"favorite\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.favorite(this)\" hidden></li><li class=\"watch_later\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.watch_later(this)\" hidden></li>'; } out+='</ul></a>'; }); out+='</div><center id=\"pagination\" onrender=\"(\\'ui\\' in window) && ui.pagination(this)\">'; if ((location.json.page || 1) == 1) { out+='<button class=\"material-icons\" disabled>keyboard_arrow_left</button>'; }else{ out+='<a href=\"?'+encodeHTML( (new URLSearchParams(Object.assign(location.json, {page: parseInt(location.json.page || 1) - 1}))).toString() )+'\" class=\"prev\"><button class=\"material-icons\">keyboard_arrow_left</button></a>'; } out+='<span class=\"chip\">'+encodeHTML( (location.json.page || 1) )+'</span>'; if ($this.res.length != 24) { out+='<button class=\"material-icons\" disabled>keyboard_arrow_right</button>'; }else{ out+='<a href=\"?'+encodeHTML( (new URLSearchParams(Object.assign(location.json, {page: parseInt(location.json.page || 1) + 1}))).toString() )+'\" class=\"next\"><button class=\"material-icons\">keyboard_arrow_right</button></a>'; } out+='</center>';return out;\n}"],["search","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out='<div class=\"_\">'; $this.res.forEach(function(row) { out+='<a href=\"?info='+encodeHTML( row.id )+'\" title=\"'+encodeHTML( row.name )+'\" class=\"menu card _c2\"><div class=\"media\" style=\"--aspect-ratio:1/1.441;\"><img loading=\"lazy\" alt=\"'+encodeHTML( row.name )+'\" src=\"'+encodeHTML( row.poster )+'\" />'; if (row.rating) { out+='<div class=\"rating\">'+encodeHTML( parseFloat(String(row.rating).replace(',', '.')).toFixed(2) )+'</div>'; }else if (row.id.startsWith('kp')) { out+='<div class=\"rating\" onvisibilitychange=\"(event.detail.entry.isIntersecting && event.detail.kill() && (this.style[\\'background-image\\'] = \\'url(https://rating.kinopoisk.ru/'+encodeHTML( row.id.slice(2) )+'.gif)\\'))\"></div>'; } out+='</div><h2>'+encodeHTML( row.name )+'</h2><ul><div>'+encodeHTML( row.name )+'<br />'; if (row.age) { out+=''+encodeHTML( row.age )+' &#183; '; }  if (row.year) { out+=''+encodeHTML( row.year )+' &#183; '; }  if (row.rating) { out+=''+encodeHTML( row.rating )+' <i class=\"material-icons star\">star</i>'; }  if (row.profession) { out+='<br />'+encodeHTML( row.profession.join(', ') ); } out+='</div>'; if (!navigator.server) { out+='<li class=\"favorite\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.favorite(this)\" hidden></li><li class=\"watch_later\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.watch_later(this)\" hidden></li>'; } out+='</ul></a>'; }); out+='</div><center id=\"pagination\" onrender=\"(\\'ui\\' in window) && ui.pagination(this)\">'; if ((location.json.page || 1) == 1) { out+='<button class=\"material-icons\" disabled>keyboard_arrow_left</button>'; }else{ out+='<a href=\"?'+encodeHTML( (new URLSearchParams(Object.assign(location.json, {page: parseInt(location.json.page || 1) - 1}))).toString() )+'\" class=\"prev\"><button class=\"material-icons\">keyboard_arrow_left</button></a>'; } out+='<span class=\"chip\">'+encodeHTML( (location.json.page || 1) )+'</span>'; if ($this.res.length != 24) { out+='<button class=\"material-icons\" disabled>keyboard_arrow_right</button>'; }else{ out+='<a href=\"?'+encodeHTML( (new URLSearchParams(Object.assign(location.json, {page: parseInt(location.json.page || 1) + 1}))).toString() )+'\" class=\"next\"><button class=\"material-icons\">keyboard_arrow_right</button></a>'; } out+='</center>';return out;\n}"],["staff","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out='<h2 class=\"h4\">'+encodeHTML( ($this.name || $this.nameOrig) )+'</h2><h3 class=\"h5\">'+encodeHTML( $this.profession )+'</h2><div class=\"_\">'; $this.res.forEach(function(row) { out+='<a href=\"?info='+encodeHTML( row.id )+'\" title=\"'+encodeHTML( row.name )+'\" class=\"menu card _c2\"><div class=\"media\" style=\"--aspect-ratio:1/1.441;\"><img loading=\"lazy\" alt=\"'+encodeHTML( row.name )+'\" src=\"'+encodeHTML( row.poster )+'\" />'; if (row.rating) { out+='<div class=\"rating\">'+encodeHTML( parseFloat(String(row.rating).replace(',', '.')).toFixed(2) )+'</div>'; }else if (row.id.startsWith('kp')) { out+='<div class=\"rating\" onvisibilitychange=\"(event.detail.entry.isIntersecting && event.detail.kill() && (this.style[\\'background-image\\'] = \\'url(https://rating.kinopoisk.ru/'+encodeHTML( row.id.slice(2) )+'.gif)\\'))\"></div>'; } out+='</div><h2>'+encodeHTML( row.name )+'</h2><ul><div>'+encodeHTML( row.name )+'<br />'; if (row.age) { out+=''+encodeHTML( row.age )+' &#183; '; }  if (row.year) { out+=''+encodeHTML( row.year )+' &#183; '; }  if (row.rating) { out+=''+encodeHTML( row.rating )+' <i class=\"material-icons star\">star</i>'; }  if (row.profession) { out+='<br />'+encodeHTML( row.profession.join(', ') ); } out+='</div>'; if (!navigator.server) { out+='<li class=\"favorite\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.favorite(this)\" hidden></li><li class=\"watch_later\" data-id=\"'+encodeHTML( row.id )+'\" data-name=\"'+encodeHTML( (row.name || row.nameOrig) )+'\" data-poster=\"'+encodeHTML( row.poster )+'\" onrender=\"ui.watch_later(this)\" hidden></li>'; } out+='</ul></a>'; }); out+='</div>';return out;\n}"],["tv","function anonymous($this\n) {\nvar encodeHTML = typeof _encodeHTML !== \"undefined\" ? _encodeHTML : (function encodeHTMLSource() {\n\tconst encodeHTMLRules = {\n\t\t'&': '&#38;',\n\t\t'<': '&#60;',\n\t\t'>': '&#62;',\n\t\t'\"': '&#34;',\n\t\t\"'\": '&#39;',\n\t\t'/': '&#47;'\n\t}\n\tconst matchHTML = /&(?!#?\\w+;)|<|>|\"|'|\\//g;\n\treturn function(s) {\n\t\treturn (s ? s.toString().replace(matchHTML, m => (encodeHTMLRules[m] || m)) : '');\n\t}\n}());var out=''; console.log({ $this, location: location.json });  if (location.json.tv) { out+='<article class=\"_ info\"><div class=\"_cd3 _ct3 _cp12 _r4 img\"><img _height=\"260\" style=\"max-width: 100%\" loading=\"lazy\" alt=\"'+encodeHTML( $this.name )+'\" src=\"'+encodeHTML( $this.res[0].icon )+'\" /></div><div class=\"_cd9 _ct5 _cp12 nav\"><nav class=\"tabs\"><button class=\"color\" onclick=\"player(\\''+encodeHTML( $this.res[0].iframe )+'\\')\">Начать просмотр</button><button class=\"material-icons active hide_tv\" onclick=\"share()\">share</button></nav></div><div class=\"_cd9 _ct5 _cp12 title\"><h2>'+encodeHTML( $this.res[0].name )+'</h2></div><div class=\"_cd9 _ct5 _cp12 desc\" data-more_max=\"Скрыть\" data-more_min=\"Ещё\" tabindex=\"-1\"><div><b>Жанр</b><div><a href=\"?tv\" class=\"index\">ТВ каналы</a>, <a href=\"?tv=&genre='+encodeHTML( $this.res[0].genre )+'\" class=\"index\">'+encodeHTML( [[ 'ENTERTAINMENT', 'Развлечения', 'razvlekatelnye' ],[ 'FAMILY_KIDS', 'Для всей семьи', 'detskie' ],[ 'MUSIC', 'Музыка', 'muzykalnye' ],[ 'MOVIES', 'Фильмы', 'kino' ]].filter(function(v) {return v[0] == $this.res[0].genre;})[0][1] )+'</a> </div><br /></div><div class=\"hide\">'; if ($this.res[0].programm) {  ($this.res[0].programm = $this.res[0].programm.filter(function(v) {return (new Date().getTime() <= (v.stop * 1000));}).slice(0, 20));  if ($this.res[0].programm.length) { out+='<div class=\"table\"><div class=\"scroll\"><table><tbody>'; $this.res[0].programm.forEach(function(row) { out+='<tr><td>'+encodeHTML( (new Date(row.start * 1000)).toLocaleString([], {timeStyle: 'short'}) )+'</td><td>'+encodeHTML( (new Date(row.stop * 1000)).toLocaleString([], {timeStyle: 'short'}) )+'</td><td>'+encodeHTML( row.name )+'</td></tr>'; }); out+='</tbody></table></div></div>'; }  } out+='</div></div></article><dialog id=\"dialog_share\"></dialog><dialog id=\"dialog_iframe\"><section></section><footer><button>Закрыть</button></footer></dialog><script-tpl src=\"data:text/javascript;base64,ZnVuY3Rpb24gc2hhcmUoKXt2YXIgZT0kKCIjZGlhbG9nX3NoYXJlIikuaHRtbCgiIik7cWFkLnZpZXcoe2lkOiJkaWFsb2dfc2hhcmUiLGlubmVySFRNTDoiPD9qcy0gZGVmLl9kaWFsb2dfc2hhcmUgPz4ifSkudGhlbihmdW5jdGlvbih0KXtlLmFwcGVuZCgkKHQpKTt2YXIgbj17dGl0bGU6ZG9jdW1lbnQudGl0bGUsdGV4dDokKCdtZXRhW25hbWU9ImRlc2NyaXB0aW9uIl0nKS5jb250ZW50LHVybDpsb2NhdGlvbi5ocmVmLnNwbGl0KCIjIilbMF19LHI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGlua1tyZWw9Y2Fub25pY2FsXSIpOyhyJiYobi51cmw9ci5ocmVmKSxuYXZpZ2F0b3Iuc2hhcmUpP25hdmlnYXRvci5zaGFyZShuKTooZS4kKCdbbmFtZT0idXJsIl0nKS52YWx1ZT1uLnVybCxlLiQoIi5hY3Rpb24iKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KG4udXJsKS50aGVuKGZ1bmN0aW9uKCl7cWFkLnNuYWNrYmFyKCLQodGB0YvQu9C60LAg0YHQutC+0L/QuNGA0L7QstCw0L3QsCDQsiDQsdGD0YTQtdGAINC+0LHQvNC10L3QsCIpLGUuY2xvc2UoKX0pfSksZS4kJCgiYSIpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuaHJlZj1lLmRhdGFzZXQuaHJlZitlbmNvZGVVUklDb21wb25lbnQobi51cmwpfSksZS5wb3B1cCgpKX0pfWZ1bmN0aW9uIGlmcmFtZShlKXt2YXIgdD1xYWQuJCgiI2RpYWxvZ19pZnJhbWUiKSxuPSQoJzxpZnJhbWUgc3JjPSInK2UrJyIgZnJhbWVib3JkZXI9IjAiIGFsbG93ZnVsbHNjcmVlbj0idHJ1ZSIgbG9hZGluZz0ibGF6eSI+JykuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIHQucXVlcnlTZWxlY3Rvcigic2VjdGlvbiIpLmFwcGVuZChuKSx0Lm9wZW58fHQucG9wdXAoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuLnJlbW92ZSgpfSksbn1mdW5jdGlvbiBwbGF5ZXIoZSx0LG4pe3ZhciByLGEscyxpLG89bmF2aWdhdG9yLnN0b3JhZ2VBdmFpbGFibGU/bG9jYWxTdG9yYWdlLm1vdmllc19mbGFnc19wbGF5ZXJ8fChjb3JzUHJveHkmJiJvcGVuU3luYyJpbiBjb3JzUHJveHk/ImV4dGVybmFsIjoic2hha2EiKToiaWZyYW1lIjtpZih0KXt2YXIgbCxjPSQoIiN3YXRjaF9jb250aW51ZSIpO2k9e25hbWU6ZG9jdW1lbnQudGl0bGUscG9zdGVyOiQoImltZyIpLnNyYyxpZDoobD10LmNsb3Nlc3QoIltkYXRhLWlkXSIpKSYmbC5kYXRhc2V0LmlkLHRyYW5zbGF0b3I6KGw9dC5jbG9zZXN0KCJbZGF0YS10cmFuc2xhdG9yXSIpKSYmbC5kYXRhc2V0LnRyYW5zbGF0b3Isc2Vhc29uOihsPXQuY2xvc2VzdCgiW2RhdGEtc2Vhc29uXSIpKSYmbC5kYXRhc2V0LnNlYXNvbixlcGlzb2RlOihsPXQuY2xvc2VzdCgiW2RhdGEtZXBpc29kZV0iKSkmJiEhbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLiQoIi5tYXRlcmlhbC1pY29ucyIpLmh0bWwoInZpc2liaWxpdHkiKSYmbC5kYXRhc2V0LmVwaXNvZGV9LGw9bnVsbCxjJiZjLmhpZGRlbiYmKGMuaGlkZGVuPSExKX1mdW5jdGlvbiBwKGUpe2lmKGkmJmkuaWQmJiJ0aW1ldXBkYXRlIj09ZS50eXBlKXt2YXIgdD1NYXRoLmZsb29yKGUuY3VycmVudFRpbWUpOyghc3x8TWF0aC5hYnMocy10KT49NjApJiYoc3luY1N0b3JhZ2UudGltZVtpLmlkXT9zeW5jU3RvcmFnZS5nZXRJdGVtKCJ0aW1lIikuZ2V0SXRlbShpLmlkKS5nZXRJdGVtKCIwIikhPWkudHJhbnNsYXRvciYmc3luY1N0b3JhZ2UuZ2V0SXRlbSgidGltZSIpLmdldEl0ZW0oaS5pZCkuc2V0SXRlbSgwLGkudHJhbnNsYXRvcik6c3luY1N0b3JhZ2UuZ2V0SXRlbSgidGltZSIpLnNldEl0ZW0oaS5pZCx7MDppLnRyYW5zbGF0b3IsMTpudWxsPT1pLnNlYXNvbj90Ont9fSksbnVsbD09aS5zZWFzb24/c3luY1N0b3JhZ2UuZ2V0SXRlbSgidGltZSIpLmdldEl0ZW0oaS5pZCkuc2V0SXRlbSgiMSIscz10KTpzeW5jU3RvcmFnZS5nZXRJdGVtKCJ0aW1lIikuZ2V0SXRlbShpLmlkKS5nZXRJdGVtKCIxIikuc2V0SXRlbShpLnNlYXNvbisiXyIraS5lcGlzb2RlLHM9dCkpfWVsc2UidGltZXVwZGF0ZSI9PSFlLnR5cGUmJmNvbnNvbGUubG9nKCJfbWVzc2FnZV8iLGUsaSl9ZnVuY3Rpb24gdSgpe2lmKCFpfHwhaS5pZHx8IXN5bmNTdG9yYWdlLnRpbWVbaS5pZF0pcmV0dXJuIG51bGw7dmFyIGU9c3luY1N0b3JhZ2UuZ2V0SXRlbSgidGltZSIpLmdldEl0ZW0oaS5pZCkuZ2V0SXRlbSgiMSIpLHQ9bnVsbD09aS5zZWFzb24/ZTplLmdldEl0ZW0oaS5zZWFzb24rIl8iK2kuZXBpc29kZSk7cmV0dXJuIHQmJnQ+MTA/K3QtMTA6bnVsbH1mdW5jdGlvbiBkKGUpe2lmKGUuaW5jbHVkZXMoIi5tM3U4Iil8fCFlLmluY2x1ZGVzKCIuc3RyZWFtdmlkLiIpfHxlLmluY2x1ZGVzKCIveC1lbi14LyIpKXJldHVybiBlO3ZhciB0PU1hdGgucm91bmQoRGF0ZS5ub3coKS8xZTMvNjAvNjApLG49bmV3IFVSTChlKTtyZXR1cm4gbi5vcmlnaW4rIi94LWVuLXgvIitidG9hKHQrIi8iK24ucGF0aG5hbWUrbi5zZWFyY2gpLnNwbGl0KCIiKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLmluZGV4T2YoZSk7cmV0dXJuLTE8dD8iRGxDaEVYaXRMT05ZUmtGakFzbkJieW1XelNITXFLUGdRWnB2d2Vyb2ZKVFZkSXVVY3hhRyJbdF06ZX0pLmpvaW4oIiIpfWlmKCJpbmZvImluIGxvY2F0aW9uLmpzb24/KHI9SlNPTi5wYXJzZShhdG9iKGUpKSxhPWZ1bmN0aW9uKCl7cmV0dXJuIHQmJnQuY2xhc3NMaXN0LmFkZCgicHJvZ3Jlc3MiKSxsb2FkQXBpKHBhcnNlVXJsKHtzb3VyY2VzOntzb3VyY2VzOnJ9fSkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3JjXz1PYmplY3QudmFsdWVzKGUuc3JjKS5zbGljZSgtMSlbMF0sY29uc29sZS5sb2coInNvdXJjZXMiLGUpLHQmJnQuY2xhc3NMaXN0LnJlbW92ZSgicHJvZ3Jlc3MiKSxlfSl9KToidHYiaW4gbG9jYXRpb24uanNvbiYmKHI9Imh0dHBzOi8vb25saW5ldHYub25lIitlLGNvcnNQcm94eXx8KHI9Imh0dHBzOi8vcHJveHkuZmV0Y2hjb3JzLndvcmtlcnMuZGV2LyIrcikscis9IiZjb3JzUHJveHk9IitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe3JlZmVyZXI6Imh0dHBzOi8vb25saW5ldHYub25lLyJ9KSksYT1mdW5jdGlvbigpe3JldHVybiB0JiZ0LmNsYXNzTGlzdC5hZGQoInNwaW5uZXIiKSxmZXRjaChyKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRleHQoKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQmJnQuY2xhc3NMaXN0LnJlbW92ZSgic3Bpbm5lciIpLHtzcmNfOmUucmVwbGFjZSgvKFxufFx0fFxyKS9nLCIiKS5yZXBsYWNlKC8oXiguKj8pZmlsZToifCIoLio/KSR8IG9yKC4qPykkfFxbKC4qPylcXSkvZywiIil9fSl9KSxjb25zb2xlLmxvZygicGxheWVyIixyKSxyKXN3aXRjaChvKXtjYXNlImlmcmFtZSI6cmV0dXJuIGlmcmFtZSgic3RyaW5nIj09dHlwZW9mIHI/cjpyWzBdWzFdLmlmcmFtZSk7Y2FzZSJicm93c2VyIjpyZXR1cm4gYSgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5vcGVuKGUuc3JjXyl9KTtjYXNlImxpbmsiOnJldHVybiBhKCkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1lLnNyY18uc3BsaXQoIi8iKS5wb3AoKS5zcGxpdCgiIyIpWzBdLnNwbGl0KCI/IilbMF07cHJvbXB0KGUudHlwZXx8KHQuZW5kc1dpdGgoIi5tcGQiKT8iYXBwbGljYXRpb24vZGFzaCt4bWwiOnQuZW5kc1dpdGgoIi5tcDQiKT8idmlkZW8vbXA0IjoiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmwiKSxlLnNyY18pfSk7Y2FzZSJzaGFrYSI6cmV0dXJuIGEoKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXt0eXBlOiJtZWRpYV9wbGF5ZXIiLHBsYXlsaXN0Olt7c3JjOmUuc3JjX31dfTtlLnR5cGUmJih0LnBsYXlsaXN0WzBdLnR5cGU9ZS50eXBlKSxlLnN1YnRpdGxlcyYmKHQucGxheWxpc3RbMF0uc3VidGl0bGVzPWUuc3VidGl0bGVzKSxpJiZpLmlkJiYodC5wbGF5bGlzdFswXS50aXRsZT1pLm5hbWUsdC5wbGF5bGlzdFswXS5wb3N0ZXI9aS5wb3N0ZXIsdC5wbGF5bGlzdFswXS5hcnRpc3Q9W2kuc2Vhc29uJiYi0KHQtdC30L7QvTogIitpLnNlYXNvbixpLmVwaXNvZGUmJiLQodC10YDQuNGPOiAiK2kuZXBpc29kZSxpLnRyYW5zbGF0b3JdLmZpbHRlcihCb29sZWFuKS5qb2luKCI7ICIpLHQucGxheWxpc3RbMF0uc3RhcnRUaW1lPXUoKSksZS5zcmNfLmluY2x1ZGVzKCIuc3RyZWFtdmlkLiIpJiYhZS5zcmNfLmluY2x1ZGVzKCIveC1lbi14LyIpJiYodC5zY2hlbWU9e2h0dHBzOlsiZnVuY3Rpb24odXJpLCByZXF1ZXN0LCByZXF1ZXN0VHlwZSwgcHJvZ3Jlc3NVcGRhdGVkKSB7IiwicmV0dXJuIHNoYWthLm5ldC5IdHRwRmV0Y2hQbHVnaW4ucGFyc2UoIitkLnRvU3RyaW5nKCkrIih1cmkpLCByZXF1ZXN0LCByZXF1ZXN0VHlwZSwgcHJvZ3Jlc3NVcGRhdGVkKTsiLCJ9Il0uam9pbigiXG4iKX0pLGlmcmFtZSgiaHR0cHM6Ly9hbGV4Mjg0NC5naXRodWIuaW8vc2hha2EtcGxheWVyL2luZGV4Lmh0bWwiKS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbihlKXt2YXIgbj1uZXcgVVJMKGUudGFyZ2V0LnNyYykub3JpZ2luLnJlcGxhY2UoL15maWxlXDpcL1wvLywibnVsbCIpLHI9ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIm9ubWVzc2FnZSIse2VfOmV9LGUub3JpZ2luPT1uJiZlLmRhdGEmJiJ0aW1ldXBkYXRlIiE9ZS5kYXRhLnR5cGUpLGUub3JpZ2luPT1uJiZlLmRhdGEmJiJ0aW1ldXBkYXRlIiE9ZS5kYXRhLnR5cGUmJnAoZS5kYXRhKX07bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGUsdCl7cmV0dXJuICQoKVtlWzBdLmlzSW50ZXJzZWN0aW5nPyJvbiI6Im9mZiJdKCJtZXNzYWdlIixyKX0pLm9ic2VydmUoZS50YXJnZXQpLGUudGFyZ2V0LmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UodCwiKiIpfSx7b25jZTohMH0pfSk7Y2FzZSJleHRlcm5hbCI6Y2FzZSJ2bGMiOnJldHVybiBhKCkudGhlbihmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PWUuc3JjXy5zcGxpdCgiLyIpLnBvcCgpLnNwbGl0KCIjIilbMF0uc3BsaXQoIj8iKVswXSxuPXtyZXM6ZSxyZXR1cm5fcmVzdWx0OiEwLHR5cGU6ZS50eXBlfHwodC5lbmRzV2l0aCgiLm1wZCIpPyJhcHBsaWNhdGlvbi9kYXNoK3htbCI6dC5lbmRzV2l0aCgiLm1wNCIpPyJ2aWRlby9tcDQiOiJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybCIpLHVybDplLnNyY199O2lmKGkmJmkuaWQpe3ZhciByPXUoKTtyJiYobi5wb3NpdGlvbj1uLnN0YXJ0ZnJvbT0xZTMqciksbi50aXRsZT1uLmZvcmNlbmFtZT1pLm5hbWUrKGkuc2Vhc29uJiZpLmVwaXNvZGU/IiAoIitpLnNlYXNvbisieCIraS5lcGlzb2RlKyIpIjoiIikrIiBbIitpLnRyYW5zbGF0b3IrIl0ifWUuc3VidGl0bGVzJiYobi5mb3JjZWRzcnQ9KG4uc3Vicz1PYmplY3QudmFsdWVzKGUuc3VidGl0bGVzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiRVUkwkOiIrZX0pKVswXS5zbGljZSg2KSksInZsYyI9PW8mJihuLmNvbXBvbmVudD1bIm9yZy52aWRlb2xhbi52bGMiLCJvcmcudmlkZW9sYW4udmxjLmd1aS52aWRlby5WaWRlb1BsYXllckFjdGl2aXR5Il0pLGNvcnNQcm94eS5hc3luYygib3BlbkFzeW5jIixuKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXt0cmFjazpufSxyPUpTT04ucGFyc2UoZSk7IjAiPT1yLmV4dHJhX3Bvc2l0aW9uJiZyLmV4dHJhX2R1cmF0aW9uPT1yLmV4dHJhX3Bvc2l0aW9ufHwicGxheWJhY2tfY29tcGxldGlvbiI9PXIuZW5kX2J5fHwxPT09ci5jb2RlP3QudHlwZT0iZW5kZWQiOih0LmN1cnJlbnRUaW1lPXIucG9zaXRpb258fHIuZXh0cmFfcG9zaXRpb258fG51bGwpJiYodC50eXBlPSJ0aW1ldXBkYXRlIix0LmN1cnJlbnRUaW1lLz0xZTMsKHQuZHVyYXRpb249ci5kdXJhdGlvbnx8ci5leHRyYV9kdXJhdGlvbnx8bnVsbCkmJih0LmR1cmF0aW9uLz0xZTMpKSx0LmRhdGE9cixhbGVydChKU09OLnN0cmluZ2lmeSh0LG51bGwsIlx0IikpLHAodCl9KX1pZihlLnNyY18uaW5jbHVkZXMoIi5zdHJlYW12aWQuIikmJiFlLnNyY18uaW5jbHVkZXMoIi94LWVuLXgvIikpcmV0dXJuIGZldGNoKGUuc3JjXykudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0KCl9KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciByPWUuc3JjXy5zcGxpdCgiLyIpLnNsaWNlKDAsLTEpLmpvaW4oIi8iKSsiLyI7cmV0dXJuIGNvcnNQcm94eS5hc3luYygid3JpdGVGaWxlQXN5bmMiLHtwYXRoOiIvc2RjYXJkL0Rvd25sb2FkL3BsYXkubTN1OCIsZGF0YTpuLnNwbGl0KCJcbiIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZSYmIWUuc3RhcnRzV2l0aCgiIyIpP2QocitlKTplfSkuam9pbigiXG4iKX0pLnRoZW4oZnVuY3Rpb24obil7ZS5zcmNfPW4sdChlKX0pfSk7dChlKX0pO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZXJyb3IoImVyciIsbyxyKX19\"/></script-tpl>'; }else{ out+='<h2 class=\"h4\">ТВ каналы</h2>'; if (!location.json.table) { out+='<div class=\"_\">'; $this.res.forEach(function(row) { out+='<a href=\"?tv='+encodeHTML( row.src )+'\" title=\"'+encodeHTML( row.name )+'\" class=\"card _c2\" style=\"background-color: #eee\"><div class=\"media\"><img loading=\"lazy\" alt=\"'+encodeHTML( row.name )+'\" src=\"'+encodeHTML( row.icon )+'\" /></div><h2 style=\"color: #000\">'+encodeHTML( row.name )+'</h2></a>'; }); out+='</div>'; }else{ out+='<div class=\"table\"><div class=\"scroll\"><table><tbody>'; $this.res.forEach(function(row) { out+='<tr><td><a href=\"?tv='+encodeHTML( row.src )+'\" title=\"'+encodeHTML( row.name )+'\"><img loading=\"lazy\" alt=\"'+encodeHTML( row.name )+'\" src=\"'+encodeHTML( row.icon )+'\" width=\"50\" height=\"50\" /></a></td><td><a href=\"?tv='+encodeHTML( row.src )+'\" title=\"'+encodeHTML( row.name )+'\">'+encodeHTML( row.name )+'</a></td><td>'; if (row.programm) {  (row.programm = row.programm.filter(function(v) {return (new Date().getTime() <= (v.stop * 1000));}).slice(0, 1));  if (row.programm.length) { out+=''+encodeHTML( row.programm[0].name )+'<br /><small>'+encodeHTML( (new Date(row.programm[0].start * 1000)).toLocaleString([], {timeStyle: 'short'}) )+' - '+encodeHTML( (new Date(row.programm[0].stop * 1000)).toLocaleString([], {timeStyle: 'short'}) )+' ('+encodeHTML( Math.round(((new Date() - new Date(row.programm[0].start * 1000)) / (new Date(row.programm[0].stop * 1000) - new Date(row.programm[0].start * 1000))) * 100) )+'%)</small>'; }  } out+='</td></tr>'; }); out+='</tbody></table></div><style>td a { display: block }</style></div>'; }  } return out;\n}"]])),"includes"in doT||(doT.includes={"_dialog_share":"<form method=\"dialog\"><h2>Поделиться</h2><section><div class=\"carousel\"><div><a style=\"width: 60px\" target=\"_blank\" data-href=\"https://vk.com/share.php?url=\"><svg viewBox=\"0 0 60 60\"><circle fill=\"#4680C2\" fill-rule=\"nonzero\" cx=\"30\" cy=\"30\" r=\"30\"></circle><path d=\"M49.06121 21.60996c.28897-.90818 0-1.56868-1.27972-1.56868h-4.25195c-1.07331 0-1.56869.57794-1.85765 1.19715 0 0-2.1879 5.28399-5.2427 8.71032-.99076.99075-1.44485 1.321-1.9815 1.321-.28897 0-.6605-.33025-.6605-1.23843v-8.46264c0-1.0733-.33025-1.56868-1.23844-1.56868h-6.68754c-.6605 0-1.07331.49537-1.07331.99075 0 1.03203 1.5274 1.27971 1.69253 4.1694v6.27473c0 1.36227-.24769 1.60996-.78434 1.60996-1.44484 0-4.95374-5.32527-7.05908-11.3936C18.2242 20.4541 17.8114 20 16.73808 20h-4.29324C11.20641 20 11 20.57794 11 21.19715c0 1.1146 1.44484 6.72883 6.72883 14.15943 3.5089 5.07758 8.50391 7.80214 13.00355 7.80214 2.72456 0 3.0548-.61922 3.0548-1.65125v-3.83914c0-1.23844.2477-1.44484 1.1146-1.44484.61922 0 1.7338.33025 4.25196 2.76583C42.04342 41.879 42.53879 43.2 44.14875 43.2h4.25196c1.23844 0 1.81637-.61922 1.48612-1.81637-.37153-1.19715-1.77509-2.93096-3.59146-4.99502-.99074-1.15587-2.47686-2.43559-2.93096-3.0548-.61921-.82562-.45409-1.15587 0-1.89893-.04128 0 5.16015-7.34805 5.6968-9.82492\" fill=\"#FFFFFF\"></path></svg></a><a style=\"width: 60px\" target=\"_blank\" data-href=\"https://www.facebook.com/sharer.php?u=\"><svg viewBox=\"0 0 60 60\"><path d=\"M28.4863253 59.9692983c-6.6364044-.569063-11.5630204-2.3269561-16.3219736-5.8239327C4.44376366 48.4721168 3e-7 39.6467924 3e-7 29.9869344c0-14.8753747 10.506778-27.18854591 25.2744118-29.61975392 6.0281072-.9924119 12.7038532.04926445 18.2879399 2.85362966C57.1386273 10.0389054 63.3436516 25.7618627 58.2050229 40.3239688 54.677067 50.3216743 45.4153135 57.9417536 34.81395 59.5689067c-2.0856252.3201125-5.0651487.5086456-6.3276247.4003916z\" fill=\"#3B5998\" fill-rule=\"nonzero\"></path><path d=\"M25.7305108 45h5.4583577V30.0073333h4.0947673l.8098295-4.6846666h-4.9045968V21.928c0-1.0943333.7076019-2.2433333 1.7188899-2.2433333h2.7874519V15h-3.4161354v.021c-5.3451414.194-6.4433395 3.2896667-6.5385744 6.5413333h-.0099897v3.7603334H23v4.6846666h2.7305108V45z\" fill=\"#FFF\"></path></svg></a><a style=\"width: 60px\" target=\"_blank\" data-href=\"https://twitter.com/share?url=\"><svg viewBox=\"0 0 60 60\"><path d=\"M28.486325 59.969298c-6.636404-.569063-11.56302-2.326956-16.321973-5.823932C4.443764 48.472116 0 39.646792 0 29.986934 0 15.11156 10.506778 2.798388 25.274412.36718c6.028107-.992411 12.703853.049265 18.28794 2.85363 13.576275 6.818095 19.7813 22.541053 14.64267 37.103159-3.527955 9.997705-12.789708 17.617785-23.391072 19.244938-2.085625.320112-5.065149.508645-6.327625.400391z\" fill=\"#1DA1F2\" fill-rule=\"nonzero\"></path><path d=\"M45.089067 17.577067c-.929778.595555-3.064534 1.460977-4.117334 1.460977v.001778C39.7696 17.784 38.077156 17 36.200178 17c-3.645511 0-6.6016 2.956089-6.6016 6.600178 0 .50631.058666 1.000178.16711 1.473778h-.001066c-4.945066-.129778-10.353422-2.608356-13.609244-6.85049-2.001778 3.46489-.269511 7.3184 2.002133 8.72249-.7776.058666-2.209067-.0896-2.882844-.747023-.045156 2.299734 1.060622 5.346845 5.092622 6.452267-.776533.417778-2.151111.297956-2.7488.209067.209778 1.941333 2.928355 4.479289 5.901155 4.479289C22.46009 38.565156 18.4736 40.788089 14 40.080889 17.038222 41.929422 20.5792 43 24.327111 43c10.650667 0 18.921956-8.631822 18.4768-19.280356-.001778-.011733-.001778-.023466-.002844-.036266.001066-.027378.002844-.054756.002844-.0832 0-.033067-.002844-.064356-.003911-.096356.9696-.66311 2.270578-1.836089 3.2-3.37991-.539022.296888-2.156089.891377-3.6608 1.038932.965689-.521244 2.396444-2.228266 2.749867-3.585777\" fill=\"#FFF\"></path></svg></a><a style=\"width: 60px\" target=\"_blank\" data-href=\"mailto:?body=\"><svg viewBox=\"0 0 60 60\"><path d=\"M28.4863253 59.9692983c-6.6364044-.569063-11.5630204-2.3269561-16.3219736-5.8239327C4.44376366 48.4721168 3e-7 39.6467924 3e-7 29.9869344c0-14.8753747 10.506778-27.18854591 25.2744118-29.61975392 6.0281072-.9924119 12.7038532.04926445 18.2879399 2.85362966C57.1386273 10.0389054 63.3436516 25.7618627 58.2050229 40.3239688 54.677067 50.3216743 45.4153135 57.9417536 34.81395 59.5689067c-2.0856252.3201125-5.0651487.5086456-6.3276247.4003916z\" fill=\"#888\"></path><path d=\"M40.531502 19.160814h-22c-1.74 0-2.986 1.2375-3 3v16c0 1.7625 1.26 3 3 3h22c1.74 0 3-1.2375 3-3v-16c0-1.7625-1.26-3-3-3zm0 6l-11 7-11-7v-3l11 7 11-7v3z\" fill=\"#FFF\"></path></svg></a></div></div><label class=\"input full\"><i class=\"material-icons action\">content_copy</i><input name=\"url\" type=\"url\" /><span>Ссылка</span></label></section><footer><button type=\"reset\">Закрыть</button></footer></form>","_dialog_sources":"<form method=\"dialog\"><h2>Выбор озвучки</h2><section data-id=\"<?js! $this.id ?>\"><?js if ($this.seasons) { ?><?js Object.values($this.seasons).forEach(function(s) { ?><details><summary class=\"\">Сезон: <?js! (s.id || '0') ?></summary><ul data-season=\"<?js! (s.id || '0') ?>\"><?js Object.values(s.episodes).forEach(function(e) { ?><?js if (e.translators && Object.values(e.translators).length) { ?><details><summary title=\"<?js if (e.name || e.time) { ?><?js if (e.name) { ?>Название: <?js! e.name ?><?js }; ?><?js if (e.time) { ?><?js! (e.name && '&#10;') ?>Дата выхода: <?js! (new Date(e.time * 1000)).toLocaleString([], {dateStyle: 'short'}) ?><?js }; ?><?js }; ?>\"><i class=\"material-icons\"><?js! (e.visibility ? 'visibility' : 'visibility_off') ?></i> Серия: <?js! (e.id || '0') ?></summary><ul data-episode=\"<?js! (e.id || '0') ?>\"><?js Object.values(e.translators).forEach(function(t) { ?><li tabindex=\"0\" data-translator=\"<?js! t.id ?>\" data-icon=\"<?js= (t.icon || '') ?>\" onclick=\"player('<?js= btoa(JSON.stringify(t.link)) ?>', this)\" oncontextmenu=\"(this.nextElementSibling.hidden = !(this.hidden = !(event.stopPropagation(), event.preventDefault())))\"><?js! t.id ?></li><details open hidden><summary class=\"li\" tabindex=\"0\"><?js! t.id ?></summary><ul data-translator=\"<?js! t.id ?>\"><?js t.link.forEach(function(l) { ?><li tabindex=\"0\" data-icon=\"<?js= (l[1].subtitle ? 'subtitles' : '') ?>\" onclick=\"player('<?js= btoa(JSON.stringify([l])) ?>', this)\">[<?js! l[0] ?>] <?js! l[1].quality ?></li><?js }); ?></ul></details><?js }); ?></ul></details><?js }else{ ?><li title=\"<?js if (e.name || e.time) { ?><?js if (e.name) { ?>Название: <?js! e.name ?><?js }; ?><?js if (e.time) { ?><?js! (e.name && '&#10;') ?>Дата выхода: <?js! (new Date(e.time * 1000)).toLocaleString([], {dateStyle: 'short'}) ?><?js }; ?><?js }; ?>\">Серия: <?js! (e.id || '0') ?></li><?js }; ?><?js }); ?></ul></details><?js }); ?><?js }else if ($this.film) { ?><ul><?js Object.values($this.film.translators).forEach(function(t) { ?><li tabindex=\"0\" data-translator=\"<?js! t.id ?>\" data-icon=\"<?js= (t.icon || '') ?>\" onclick=\"player('<?js= btoa(JSON.stringify(t.link)) ?>', this)\" oncontextmenu=\"(this.nextElementSibling.hidden = !(this.hidden = !(event.stopPropagation(), event.preventDefault())))\"><?js! t.id ?></li><details open hidden><summary class=\"li\" tabindex=\"0\"><?js! t.id ?></summary><ul data-translator=\"<?js! t.id ?>\"><?js t.link.forEach(function(l) { ?><li data-icon=\"<?js= (l[1].subtitle ? 'subtitles' : '') ?>\" onclick=\"player('<?js= btoa(JSON.stringify([l])) ?>', this)\" tabindex=\"0\">[<?js! l[0] ?>] <?js! l[1].quality ?></li><?js }); ?></ul></details><?js }); ?></ul><?js }; ?></section><footer><button type=\"reset\">Закрыть</button></footer><label class=\"menu dnli\" tabindex=\"-1\"><ul><li tabindex=\"0\" data-li=\"play\">Воспроизвести</li><li tabindex=\"0\" data-li=\"info\">Информация</li><li tabindex=\"0\" data-li=\"history\">Метка</li></ul></label></form>","block":"<a href=\"?info=<?js! row.id ?>\" title=\"<?js! row.name ?>\" class=\"menu card _c2\"><div class=\"media\" style=\"--aspect-ratio:1/1.441;\"><img loading=\"lazy\" alt=\"<?js! row.name ?>\" src=\"<?js! row.poster ?>\" /><?js if (row.rating) { ?><div class=\"rating\"><?js! parseFloat(String(row.rating).replace(',', '.')).toFixed(2) ?></div><?js }else if (row.id.startsWith('kp')) { ?><div class=\"rating\" onvisibilitychange=\"(event.detail.entry.isIntersecting && event.detail.kill() && (this.style['background-image'] = 'url(https://rating.kinopoisk.ru/<?js! row.id.slice(2) ?>.gif)'))\"></div><?js } ?></div><h2><?js! row.name ?></h2><ul><div><?js! row.name ?><br /><?js if (row.age) { ?><?js! row.age ?> &#183; <?js } ?><?js if (row.year) { ?><?js! row.year ?> &#183; <?js } ?><?js if (row.rating) { ?><?js! row.rating ?> <i class=\"material-icons star\">star</i><?js } ?><?js if (row.profession) { ?><br /><?js! row.profession.join(', ') ?><?js } ?></div><?js if (!navigator.server) { ?><li class=\"favorite\" data-id=\"<?js! row.id ?>\" data-name=\"<?js! (row.name || row.nameOrig) ?>\" data-poster=\"<?js! row.poster ?>\" onrender=\"ui.favorite(this)\" hidden></li><li class=\"watch_later\" data-id=\"<?js! row.id ?>\" data-name=\"<?js! (row.name || row.nameOrig) ?>\" data-poster=\"<?js! row.poster ?>\" onrender=\"ui.watch_later(this)\" hidden></li><?js } ?><!--<li class=\"favorite\" _onrender=\"ui.favorite(this, event.detail)\"></li><li class=\"watch_later\" _onrender=\"ui.watch_later(this, event.detail)\"></li>--></ul></a>","pagination":"<center id=\"pagination\" onrender=\"('ui' in window) && ui.pagination(this)\"><?js if ((location.json.page || 1) == 1) { ?><button class=\"material-icons\" disabled>keyboard_arrow_left</button><?js }else{ ?><a href=\"?<?js! (new URLSearchParams(Object.assign(location.json, {page: parseInt(location.json.page || 1) - 1}))).toString() ?>\" class=\"prev\"><button class=\"material-icons\">keyboard_arrow_left</button></a><?js } ?><span class=\"chip\"><?js! (location.json.page || 1) ?></span><?js if ($this.res.length != 24) { ?><button class=\"material-icons\" disabled>keyboard_arrow_right</button><?js }else{ ?><a href=\"?<?js! (new URLSearchParams(Object.assign(location.json, {page: parseInt(location.json.page || 1) + 1}))).toString() ?>\" class=\"next\"><button class=\"material-icons\">keyboard_arrow_right</button></a><?js } ?></center>"}),"object"==_typeof(e)&&(r=e.innerHTML,e=e.id),e?e in doT.rendermodule?doT.rendermodule[e]:(r?Promise.resolve(r):fetch("view/"+e+".dot.html").then(function(e){return e.ok?e.text():Promise.reject(new Error(e.statusText))})).then(function(t){return Promise.all(Array.from(new Set(Array.from(t.matchAll(doT.config.use||/$^/),function(e){return e[1].replace("def.","")}).filter(function(e){return!e.startsWith("$")&&!e.match(":")&&!doT.includes[e]}))).map(function(e){return fetch("view/"+e+".def.html").then(function(e){return e.ok?e.text():Promise.reject(new Error(e.statusText))}).then(function(t){return doT.includes[e]=t})})).then(function(r){return doT.rendermodule[e]=doT.compile(t,doT.includes)})}):Promise.reject(new Error("Empty template#id"))}).then(function(e){return e(t)})};var seo={title:document.title};function parseUrl(e){var t=location.routes,r=e||location.json,n=Object.keys(r),o=n.length&&t[n[0]]?n[0]:"home",a=t[o],i=a.schema;if(i)for(var c=0,s=["query","params"];c<s.length;c++){var l=s[c];if(i[l]&&i[l].properties)for(var u in i[l].properties)null==i[l].properties[u].default||r[u]||(r[u]=i[l].properties[u].default)}return{route:o,query:r,config:a,href:location.href}}function hash(e){return("string"==typeof e?e:JSON.stringify(e)).split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)}function loadApi(e,t){if(console.log({route:e,method:t}),!e.config.js&&!e.config.spreadsheet&&!e.config.api)return Promise.resolve(null);var r=e.route,n=(e.config.url||"").replace(/\/:/,""),o=e.config.schema,a=r+"/"+hash(e.query),i=(new Date).getTime(),c=navigator.storageAvailable&&localStorage.apiStorageCache?JSON.parse(localStorage.apiStorageCache):{};if(o&&o.params&&o.params.required&&o.params.required.indexOf(n)>-1&&!e.query[r])return Promise.reject(new Error("Not Found"));for(var s in c)c[s].expires>=i||(delete c[s],localStorage.apiStorageCache=JSON.stringify(c));if(c[a])return Promise.resolve(c[a].res);var l=$("header");return l.classList.add("progress"),function(){if(!e.config.js||t&&"js"!=t)return!e.config.spreadsheet||t&&"spreadsheet"!=t?!e.config.api||t&&"api"!=t?Promise.reject(new Error("Not Found")):(e.config.url||e.query[r]&&"string"==typeof e.query[r]?fetch(e.config.api+"/"+(e.config.url?e.config.url.split("/").slice(1).map(function(t){return t.startsWith(":")?e.query[t.slice(1)]:t}).join("/"):e.query[r]),{signal:e.signal||(loadApiAbort=new AbortController).signal}):fetch(e.config.api,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.query),signal:e.signal||(loadApiAbort=new AbortController).signal})).then(function(e){return e.json()}):new globalStorage({spreadsheet:e.config.spreadsheet.id,lists:e.config.spreadsheet.lists,signal:e.signal||(loadApiAbort=new AbortController).signal}).then(function(e){return Promise.all(Object.keys(e).map(function(t){return e[t].then(function(e){return[t,e.json]})})).then(function(e){return Object.fromEntries(e)})});var n,o=[],a={config:package_config,json:e.query,route:e.config,fetch:fetch,parseUrl:parseUrl,loadApi:loadApi};return e.config.url?o=e.config.url.split("/").slice(1).map(function(t){return t.startsWith(":")?e.query[t.slice(1)]:t}):e.query[r]?o.push(e.query[r]):o.push(null),e.signal?a.signal=e.signal:a.signal=(loadApiAbort=new AbortController).signal,o.push(a),"api_"+r in window?Promise.resolve((n=window)["api_"+r].apply(n,_toConsumableArray(o))):import(e.config.js).then(function(e){return(window["api_"+r]=e.default).apply(void 0,_toConsumableArray(o))})}().then(function(t){if(loadApiAbort&&(loadApiAbort=null),l.classList.remove("progress"),t.statusCode&&t.statusCode>400)throw new Error(t.error);if(navigator.storageAvailable&&e.config.ttl){var r=i+e.config.ttl;c[a]={expires:r,res:t};try{localStorage.apiStorageCache=JSON.stringify(c)}catch(e){try{localStorage.apiStorageCache=JSON.stringify(_defineProperty({},a,{expires:r,res:t}))}catch(e){}}}return t}).catch(function(e){throw l.classList.remove("progress"),e})}function loadKey(e,t){return new Function("$this",'return "'+e+'"')(t)}function loadUrl(e){var t=parseUrl(),r=$("section#content").html("");return console.log("query",t.query),loadApi(t).then(function(n){return t.href!=location.href?Promise.reject(new Error("Set url")):(t.config.handler?Promise.resolve(t.config.handler({query:t.query},{view:qad.view,redirect:function(e,t){return location.href=t}})):qad.view(t.config.view,n)).then(function(o){var a=$("main > aside");return a&&a.remove(),(t.config.aside?qad.view("aside_"+t.config.view,n):Promise.resolve()).then(function(a){var i=[];if(o){var c=document.createElement("template").html(o).content;a&&($("main").prepend(document.createElement("template").html(a).content),qad.init.sidenav($("main > aside"))),c.$$("script").forEach(function(e){return i.push(new Promise(function(t){var r=document.createElement("script");e.src?r.src=e.src:e.dataset.src?r.src=e.dataset.src:r.innerHTML=e.innerHTML,r.onload=function(){return t()},c.append(r),e.remove()}))}),r.append(c),e&&!a||onrender(r)}return document.title=t.config.seo&&t.config.seo.title?loadKey(t.config.seo.title,n):seo.title,$('meta[name="description"]').content=document.title,qad.init.tv(),Promise.all(i).then(function(){return n})})})})}function genre(e,t){e.ontoggle=null,e.firstElementChild.classList.add("progress"),loadApi(parseUrl({genre:t})).then(function(r){var n=r.res;"HTMLDetailsElement"==e.constructor.name&&(e.innerHTML+=n.map(function(e){return'<a href="?search&'+t+"="+e.id+'">'+e.name+"</a>"}).join("")),console.log(n),e.firstElementChild.classList.remove("progress")})}function filter(e){var t=new URLSearchParams(new FormData(e)),r=Object.fromEntries(t);history.pushState(null,null,"?"+t.toString());var n=parseUrl();loadApi(parseUrl(r)).then(function(e){var t=e.res;qad.view(n.config.view,{res:t}).then(function(e){$("section#content").html("").append(document.createElement("template").html(e).content)})})}function search(e){if(e.controller_&&(e.controller_.abort(),e.controller_=null),e.value!=e.value_&&(e.value_=e.value)){console.log(e);var t=parseUrl({search:"",name:e.value_});t.signal=(e.controller_=new AbortController).signal,loadApi(t).then(function(t){var r=t.res;console.log(r);var n=function(t){e.value="",$('header[data-extended="focus"]').dataset.extended="blur",$('[name="search_name"]').blur(),history.pushState({referer:location.href},null,"?"+new URLSearchParams({info:t}).toString()),loadUrl()};"tv"==qad.mode||(e.list.innerHTML="",window.datalistChange=function(e){var t=e.target,r=t.value.toLowerCase().trim(),o=[].find.call(t.list.options,function(e){return e.value.toLowerCase()==r});o&&n(o.dataset.value)},e.oninput=window.datalistChange,r.forEach(function(t){var r=new Option(t.nameOrig.slice(0,1).toLowerCase()==e.value.slice(0,1).toLowerCase()?t.nameOrig+" / "+t.name+" ("+t.year+")":t.name+" / "+t.nameOrig+" ("+t.year+")");r.dataset.value=t.id,e.list.append(r)}))}).catch(function(e){if("AbortError"!=e.name)throw e})}}var ui={fawl_:function(e,t,r){syncStorage&&"getItem"in syncStorage&&(e.hidden&&e.on("click",function(){syncStorage[t][e.dataset.id]?(syncStorage.getItem(t).removeItem(e.dataset.id),"BUTTON"==e.tagName?e.classList.remove("active"):e.innerHTML=r[0]):(syncStorage.getItem(t).setItem(e.dataset.id,[e.dataset.name,e.dataset.poster]),"BUTTON"==e.tagName?e.classList.add("active"):e.innerHTML=r[1])}),"BUTTON"==e.tagName?(e.classList.add("material-icons"),e.classList[syncStorage[t][e.dataset.id]?"add":"remove"]("active")):syncStorage[t][e.dataset.id]?e.innerHTML=r[1]:e.innerHTML=r[0],e.hidden=!1)},favorite:function(e){return ui.fawl_(e,"favorite",["Добавить в &#171;избранное&#187;","Удалить из &#171;избранного&#187;"])},watch_later:function(e){return ui.fawl_(e,"watch_later",["Добавить в &#171;посмотреть позже&#187;","Удалить из &#171;посмотреть позже&#187;"])},watch_continue:function(e){$$("dialog[open]").forEach(function(e){return e.close()}),("info"in location.json&&location.json.info==e?sources(null,$("[data-sources]")).then(function(e){return console.log("sources: el",e),e}):(history.pushState({referer:location.href},null,"?"+new URLSearchParams({info:e}).toString()),loadUrl().then(function(e){return console.log("loadUrl",e),sources(e,$("[data-sources]")).then(function(e){return console.log("sources: ev",e),e})}))).then(function(t){var r,n,o,a;if("seasons"in t){var i,c=_createForOfIteratorHelper(Object.entries(t.seasons).reverse());try{for(c.s();!(i=c.n()).done;){var s,l=i.value,u=_createForOfIteratorHelper(Object.entries(l[1].episodes).reverse());try{for(u.s();!(s=u.n()).done;){var d=s.value;if(n=d[1].visibility)break;(r=d[1]).season=l[1].id}}catch(e){u.e(e)}finally{u.f()}if(n)break}}catch(e){c.e(e)}finally{c.f()}if(!r)return setTimeout(function(){return alert("Новых серий нет")});if((o=$('[data-id="'+e+'"] details [data-season="'+r.season+'"]')).parentNode.open=!0,(a=o.$('details [data-episode="'+r.id+'"]')).parentNode.open=!0,!r.translators[syncStorage.time[e][0]])return setTimeout(function(){return alert('Озвучка "'+syncStorage.time[e][0]+'" не найденна, выберите другую')});a.$('[data-translator="'+syncStorage.time[e][0]+'"]').click()}else if("film"in t){if(!t.film.translators[syncStorage.time[e][0]])return setTimeout(function(){return alert('Озвучка "'+syncStorage.time[e][0]+'" не найденна, выберите другую')});$('[data-id="'+e+'"] [data-translator="'+syncStorage.time[e][0]+'"]').click()}})},pagination:function(e){e.style.visibility="hidden",e.$(".next")&&new IntersectionObserver(function(t){if(t[0].isIntersecting){e.remove();var r=new URLSearchParams(Object.assign(location.json,{page:parseInt(location.json.page||1)+1})),n=Object.fromEntries(r);history.pushState(null,null,"?"+r.toString());var o=parseUrl();loadApi(parseUrl(n)).then(function(e){var t=e.res;qad.view(o.config.view,{res:t}).then(function(e){var t,r=document.createElement("template").html(e).content;onrender(r);var n,o=_createForOfIteratorHelper(r.childNodes);try{for(o.s();!(n=o.n()).done;){var a,i=n.value;if(t=$("section#content > "+i.tagName+(i.id?"#"+i.id:"")+(i.className?"."+i.className.replace(/ /g,"."):"")))i.tagName.startsWith("H")||(a=t).append.apply(a,_toConsumableArray(i.childNodes));else $("section#content").append(i)}}catch(e){o.e(e)}finally{o.f()}})})}},{rootMargin:"50%"}).observe(e)},template:function(e,t){var r=e.closest("article"),n=Object.entries(syncStorage[t||"favorite"]).map(function(e){return{id:e[0],name:e[1][0],poster:e[1][1]}});console.log("template",e,n),n.length?qad.view({innerHTML:"<?js $this.forEach(function(row) { ?><?js- def.block ?><?js }); ?>",id:"_bookmarks"},n).then(function(t){e.innerHTML=t,r&&(r.hidden=!1,qad.init.carousel(e.parentNode)),onrender(e)}):r?r.hidden=!0:e.innerHTML='<div class="card error _c12">\n\t\t\t\t\t\t<h2 style="display: flex; align-items: center;">\n\t\t\t\t\t\t\t<i class="material-icons" style="margin-right: 12px;">error_outline</i>\n\t\t\t\t\t\t\tПусто\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<h3></h3>\n\t\t\t\t\t</div>'}};function onrender(e){if((e||$("main > section")).$$("[onrender]").forEach(function(e){e.on("render",new Function("",e.getAttribute("onrender")).bind(e),{once:!0}).emit("render")}),e){var t=e.$$("[onvisibilitychange]");if(t.length){var r=new IntersectionObserver(function(e,t){e.forEach(function(e){e.target.on("visibilitychange",new Function("",e.target.getAttribute("onvisibilitychange")).bind(e.target),{once:!0}).emit("visibilitychange",{entry:e,kill:function(){return!r.unobserve(e.target)}})})});t.forEach(function(e){return r.observe(e)})}}}function main(){if("msx"!=qad.mode)return $().on("storage",function(e){e.id==syncStorage["#broadcast"].name&&["favorite","watch_later"].includes(e.path[0])&&(console.log("storage",e.storageArea,e),onrender())}),$().on("popstate",function(e){return loadUrl()}),$().on("click",function(e){var t,r=e.target.closest("a");if(r&&!r.target&&!e.ctrlKey&&(e.preventDefault(),"LI"!=e.target.tagName||!e.target.closest("ul"))){loadApiAbort&&(loadApiAbort.abort(),loadApiAbort=null);var n=r.getAttribute("href");history.pushState({referer:location.href,href:n},window.title,n),(t=e.target.closest("aside[data-open]"))&&t.close(),loadUrl().catch(function(e){alert("onerror: "+(e.stack||e.message||e))})}}),$().on("keydown",function(e){if(!navigator.storageAvailable||!localStorage.movies_flags_key_events_disable){var t=$("#key_events");if(t&&!e.keyCode)return void t.remove();t||(t=$('<div id="key_events" style="position: fixed; bottom: 10px; right: 10px; z-index: 111; color: #000; background: #fff; border-radius: 5px; border: 1px solid; padding: 10px;">Key: wait</div>').firstElementChild,$("body").append(t)),t.html("Key: "+e.keyCode+" ("+[e.code,e.altKey&&18!=e.keyCode&&"ALT",e.ctrlKey&&17!=e.keyCode&&"CTRL",e.shiftKey&&16!=e.keyCode&&"SHIFT"].filter(Boolean).join(" + ")+")")}var r;e.ctrlKey?37==e.keyCode&&(r=$("#pagination .prev"))?r.click():39==e.keyCode&&(r=$("#pagination .next"))?r.click():70==e.keyCode?e.preventDefault((r=$("header .input.extended i"))&&r.click()):82==e.keyCode&&location.reload():0==e.keyCode&&e.code&&history.state.referer&&e.preventDefault(history.back())}),$().on("contextmenu",function(e){var t;if(-1==["A","INPUT"].indexOf(e.target.tagName)){e.preventDefault();var r=e.target.closest("dialog");if(r&&(t=r.$(".menu.dnli")))t.focus(),t.style.left=(e.target.clientWidth<=e.clientX+t.scrollWidth+15?e.clientX-r.offsetLeft+5:e.clientX+5)+"px",t.style.top=(e.target.clientHeight<=e.clientY+t.scrollHeight+15?e.clientY-Math.max(t.scrollHeight,r.offsetTop)+5:e.clientY+5)+"px";else if(t=$(".menu.dnli")){var n=document.documentElement.scrollTop;if("reduce"==qad.reduced_motion){var o=t.$("ul");o.style.visibility="visible",t.on("blur",function(e){return setTimeout(function(){return o.style.visibility=""},500)},{once:!0})}t.focus(),t.style.left=(document.documentElement.clientWidth<=e.clientX+t.scrollWidth+15?e.clientX-t.scrollWidth:e.clientX+5)+"px",t.style.top=(document.documentElement.clientHeight<=e.clientY+t.scrollHeight+15?e.clientY-t.scrollHeight:e.clientY+5)+n+"px",document.documentElement.scrollTop=n}}else if("A"==e.target.tagName&&"tv"==qad.mode&&(t=e.target.$(".menu ul"))){e.preventDefault();var a=$("dialog#menu"),i=t.$("div");i&&(i.outerHTML=i.outerHTML.replace(/<div[^>]*>/g,"<h2>").replace(/<\/div>/g,"</h2>")),a||document.body.append(a=$('<dialog id="menu">').firstElementChild),a.append(t),a.popup().then(function(){return e.target.append(t)})}}),$("#search_form").on("submit",function(e){e.preventDefault(),$('header[data-extended="focus"]').dataset.extended="blur";var t=e.target.search_name;history.pushState({referer:location.href},null,"?"+new URLSearchParams({search:"",name:t.value}).toString()),loadUrl(),t.blur()}).$('[name="search_name"]').on("keyup",function(e){return search(e.target)}),loadUrl(!0);$().on("message",function(e){e.origin==location.origin&&e.data.eval&&!e.data.runtime&&(console.log("web message",e.origin==location.origin,e),Promise.resolve(new Function("return ("+e.data.eval+")()")()).then(function(t){return e.source.postMessage({resolve:t,timeStamp:e.data.timeStamp,runtime:!0},"*")}).catch(function(t){return e.source.postMessage({reject:t,timeStamp:e.data.timeStamp,runtime:!0},"*")}))})}(function(_) {_.forEach(v => {window['api_'+v[0]] = new Function('return '+v[1].root)();if (v[1].prototype.length)v[1].prototype.forEach(v_ => {window['api_'+v[0]].prototype[v_[0]] = new Function('return '+v_[1])();})});})([["home",{"root":"function api(o,e){return console.log({req:o,options:e}),(e&&e.fetch||fetch)(\"https://script.google.com/macros/s/\"+e.route.gs+\"/exec\",{query:e.json,signal:e.signal}).then(function(o){return o.json()}).then(function(o){return console.log(\"get\",o),o})}","prototype":[]}],["info",{"root":"function api(e,i){var t=function(e){if(e.startsWith(\"kp\"))return{id:e.slice(2),key:\"kinopoisk_id\"};if(e.startsWith(\"tt\"))return{id:e.slice(2),key:\"imdb_id\"};if(e.startsWith(\"c\"))return{id:e.slice(1),key:\"id\"};throw new Error(\"ID not found\")},r=i.config.access;console.log(\"### FETCH ###\");var n=t(e),o=i.json&&i.json.source;return!r.collaps||!r.collaps.domain||o&&\"collaps\"!=o?!r.kinopoisk||!r.kinopoisk.domain||\"kinopoisk_id\"!=n.key||o&&\"kinopoisk\"!=o?!r.imdb||!r.imdb.domain||\"imdb_id\"!=n.key||o&&\"imdb\"!=o?Promise.reject(new Error(\"Source not found\")):api.prototype.imdb(n.key,n.id,i):api.prototype.kinopoisk(n.key,n.id,i):api.prototype.collaps(n.key,n.id,i)}","prototype":[["collaps","function(e,i,t){var r=this,n=t.config.access;return(t&&t.fetch||fetch)(n.collaps.domain+\"/franchise/details\",{query:_defineProperty({token:n.collaps.token},e,i)}).then(function(e){return e.json()}).then(function(o){if(404!=o.status){var a=[\"anime-film\",\"cartoon\"].indexOf(o.type)>-1?\"film\":[\"anime-series\",\"tv-show\",\"cartoon-series\"].indexOf(o.type)>-1?\"series\":o.type;return{id:o.kinopoisk_id?\"kp\"+o.kinopoisk_id:o.imdb_id?\"tt\"+o.imdb_id:\"c\"+o.id,ids:{collaps:o.id,kinopoisk:+o.kinopoisk_id,imdb:+o.imdb_id},name:o.name,nameOrig:o.name_eng.replace(/^–$/,\"\"),poster:o.poster,type:a,typeOrig:o.type,serial_status:o.serial_status,description:o.description,country:Object.entries(o.country).map(function(e){return{id:e[0],name:e[1]}}),genre:Object.entries(o.genre).filter(function(e){return!e[1].match(/зарубежный/i)&&!e[1].match(/русский/i)}).map(function(e){return{id:e[0],name:e[1]}}),age:o.age&&parseInt(o.age),year:o.year,duration:o.time&&60*o.time.split(\" \")[0],rating:parseFloat(o.kinopoisk||o.imdb||\"0\"),rating_url:o.kinopoisk_id?\"https://www.kinopoisk.ru/film/\"+o.kinopoisk_id:o.imdb_id?\"https://www.imdb.com/title/tt\"+o.imdb_id:\"\",writer:o.screenwriter.filter(Boolean).length&&o.screenwriter,producer:o.producer.filter(Boolean).length&&o.producer,actor:o.actors.filter(Boolean).length&&o.actors,time:Math.round(new Date(o.activate_time).getTime()/1e3),parts:o.parts,collection:o.collection,trailer:o.trailers.length&&o.trailers.slice(0,1)[0].iframe_url,sources:{ads:o.ads,type:a,seasons:o.seasons,quality:o.quality,voiceActing:o.voiceActing,iframe_url:o.iframe_url,subtitle:o.subtitle&&o.subtitle.length>0}}}return n.kinopoisk&&n.kinopoisk.domain&&\"kinopoisk_id\"==e?r.kinopoisk(e,i,t):n.imdb&&n.imdb.domain&&\"imdb_id\"==e?r.imdb(e,i,t):Promise.reject(new Error(\"Status: \"+o.status))})}"],["kinopoisk","function(e,i,t){var r=t.config.access;return(t&&t.fetch||fetch)(r.kinopoisk.domain+\"/api/v2.1/films/\"+i,{query:{append_to_response:\"EXTERNAL_ID, RATING\"},headers:{\"access-token\":r.kinopoisk.token}}).then(function(e){return e.json()}).then(function(e){return e?{id:\"kp\"+e.data.filmId,ids:{kinopoisk:+e.data.filmId,imdb:e.externalId.imdbId?e.externalId.imdbId.replace(/^tt/,\"\"):null},name:e.data.nameRu,nameOrig:e.data.nameOrig,poster:\"https://st.kp.yandex.net/images/film_iphone/iphone360_\"+e.data.filmId+\".jpg\",type:\"FILM\"==e.data.type?\"film\":\"series\",serial_status:\"FILM\"!=e.data.type?String(e.data.year).replace((new Date).getFullYear(),\"...\").indexOf(\"...\")>-1?\"online\":\"offline\":void 0,description:e.data.description,country:e.data.countries.map(function(e){return{name:e.country}}),genre:e.data.genres.map(function(e){return{name:e.genre.slice(0,1).toUpperCase()+e.genre.slice(1)}}),age:e.data.ratingAgeLimits,year:+String(e.data.year).replace(/-(.*?)$/,\"\"),duration:e.data.filmLength&&(i=e.data.filmLength.split(\":\"),60*+i[0]*60+60*+i[1]+(+i[2]||0)),rating:e.rating.rating||e.rating.ratingImdb,rating_url:e.data.webUrl}:Promise.reject(new Error(\"Content not found\"));var i})}"],["imdb","function(e,i,t){var r=t.config.access;return(t&&t.fetch||fetch)(r.imdb.domain+\"/3/find/tt\"+i,{query:{api_key:r.imdb.token,external_source:\"imdb_id\"}}).then(function(e){return e.json()}).then(function(e){var t;if(e.movie_results.length)e=e.movie_results[0],t=\"film\";else{if(!e.tv_results.length)return Promise.reject(new Error(\"Status: 404\"));e=e.tv_results[0],t=\"series\"}return{id:\"tt\"+i,ids:{imdb:+i},name:e.name||e.title,description:e.overview,poster:\"https://image.tmdb.org/t/p/w500\"+e.poster_path,cover:\"https://image.tmdb.org/t/p/original\"+e.backdrop_path,rating:e.vote_average,rating_url:\"https://www.imdb.com/title/tt\"+i,year:+String(e.first_air_date||e.release_date).replace(/-(.*?)$/,\"\"),type:t}})}"]]}],["sources",{"root":"function api(e,t){console.log(\"sources\",{body:e,options:t});var n=t.config.enabled;return\"ids\"in e?Promise.all(Object.entries(Object.assign(n,e.enabled)).filter(function(e){return\"true\"==String(e[1])&&api.prototype[\"list_\"+e[0]]}).map(function(n){return api.prototype[\"list_\"+n[0]](e,t).catch(function(e){return e&&console.error(e)})})).then(function(e){return e.reduce(function(e,t){return t?function e(t){var n,r,s=[],o={};for(n=0;n<arguments.length;++n)s[n-0]=arguments[n];for(;0<s.length;)if(\"Object\"==(n=s.splice(0,1)[0]).constructor.name)for(r in n)n.hasOwnProperty(r)&&null!=n[r]&&null!=n[r]&&(o[r]&&\"Object\"==n[r].constructor.name?o[r]=e(o[r],n[r]):o[r]&&\"Array\"==n[r].constructor.name?0<Object.keys(n[r]).length&&(o[r]=n[r].concat(o[r])):o[r]=n[r]);return o}(e,t):e},{})}):api.prototype[\"link_\"+e.sources[0][0]](e.sources[0][1].iframe,t)}","prototype":[["list_schedule","function(e,t){if(\"series\"!=e.type)return Promise.resolve({});var n=e.name.split(\" / \").concat(e.nameOrig.split(\" / \")).filter(function(e){return e.replace(/(?:(?![0-9a-z\\u017F\\u0430-\\u044F\\u0451\\u212A])[\\s\\S])/i,\"\")}).filter(function(e,t,n){return n.indexOf(e)===t});return Promise.resolve(function r(s){var o=n[s];return(t&&t.fetch||fetch)(\"https://myshows.me/m/search/\",{query:{q:o},corsProxy:!0}).then(function(e){return e.text()}).then(function(o){var i=o.split('<div class=\"series-title__local-title\">').slice(1).map(function(e){return e.split('href=\"')[1].split('\"')[0]});return!i.length&&n[++s]?r(s):function o(a){var l=i[a];return l?(t&&t.fetch||fetch)(l,{corsProxy:!0}).then(function(e){return e.text()}).then(function(t){return e.ids.kinopoisk&&t.match(\"www.kinopoisk.ru/film/\")&&t.split(\"www.kinopoisk.ru/film/\")[1].split(\"/\")[0]==e.ids.kinopoisk||e.ids.imdb&&t.match(\"www.imdb.com/title/tt\")&&t.split(\"www.imdb.com/title/tt\")[1].split(\"/\")[0]==e.ids.imdb?{seasons:t.split('<div class=\"section section_episode\">').slice(1).reduce(function(e,t){var n,r=parseInt((t=t.split(\"</table>\")[0]).split(\"<h3>\")[1].split(\">\")[1].split(\" \")[0]);return e[n=r]={id:r,episodes:t.split('<tr class=\"table__row table__row_body table__row_series').slice(1).reduce(function(t,r){var s=r.match(\"×\")?parseInt(r.split('<span class=\"table__value table__value_number\">')[1].split(\"×\")[1].split(\"</span>\")[0]):0,o=r.split(\"<a \")[1].split('\">')[1].split(\"</a>\")[0],i=r.split('<span class=\"table__value table__value_date\">')[1].split(\"</span>\")[0].replace(/(\\d{2})\\.(\\d{2})\\.(\\d{4})/,\"$2-$1-$3\");return i=i.match(\"-\")?Math.round(new Date(i).getTime()/1e3):null,s?t[s]={id:s,name:o,time:i}:(e[0]||(e[0]={id:0,episodes_:[]}),o=\"[\"+n+\"] \"+o,e[0].episodes_.push({name:o,time:i})),t},{})},e},{})}:o(++a)}):n[++s]?r(s):null}(0)})}(0))}"],["list_sbs","function(e,t){return t.loadApi(t.parseUrl({sbs:\"kp\"+e.ids.kinopoisk,fields:\"id,video\"})).then(function(e){return e.res&&t.fetch(t.config.access.vk.domain+\"/method/video.get\",{query:{videos:e.res[0].video,access_token:t.config.access.vk.token,v:\"5.131\"},JSONP:!0}).then(function(e){return{film:{translators:{\"3D\":{id:\"3D\",icon:\"3d_rotation\",link:[[\"sbs\",{quality:\"3D\",subtitle:\"sbs\",priority:!0,iframe:e.response.items[0].player}]]}}}}})})}"],["list_collaps","function(e,t){var n=this,r=e.sources;if(!r)return Promise.resolve({});var s=new RegExp(\"(rus|форсированные|forced|eng. comments)\",\"i\"),o={},i=e.current;if(r.seasons.length&&\"series\"==r.type){if(o.seasons={},r.seasons.forEach(function(e){if(i&&i.season&&i.season!=e.season)return Promise.resolve({});o.seasons[e.season]={id:e.season,episodes:{}},e.episodes.forEach(function(t){if(i&&i.episode&&i.episode!=e.episode)return Promise.resolve({});o.seasons[e.season].episodes[t.episode]={id:t.episode,name:t.name,time:t.release_world&&Math.round(new Date(t.release_world).getTime()/1e3),translators:{}},t.voiceActing.forEach(function(n){if(i&&i.translator&&i.translator.toLowerCase()!=n)return Promise.resolve({});o.seasons[e.season].episodes[t.episode].translators[n]={id:n,link:[[\"collaps\",{quality:r.quality.split(\" \")[0],ads:t.ads,iframe:t.iframe_url+\"&oneSound=\"+encodeURIComponent(n)+\"&showPreNext=false&sharing=false&noPreview=true&showMenu=false\"}]]}})})}),r.subtitle)return t.fetch(r.iframe_url).then(function(e){return e.text()}).then(function(e){var t=e.split(\"makePlayer({\")[1];return t&&n.json_parse(\"{\"+t.split(\");\")[0].replace(/\"(\\d+)\":/g,'\"_$1\":')).playlist.seasons.forEach(function(e){e.episodes.forEach(function(t){if(o.seasons[e.season].episodes[t.episode]&&(t.cc||[]).filter(function(e){return!s.test(e.name)}).length)for(var n in o.seasons[e.season].episodes[t.episode].translators)o.seasons[e.season].episodes[t.episode].translators[n].icon=\"subtitles\",o.seasons[e.season].episodes[t.episode].translators[n].link[0][1].subtitle=!0,o.seasons[e.season].episodes[t.episode].translators[n].link[0][1].priority=!0})}),o})}else if(\"film\"==r.type&&(o.film={translators:{}},r.voiceActing.forEach(function(e){if(i&&i.translator&&i.translator.toLowerCase()!=e)return Promise.resolve({});o.film.translators[e]={id:e,link:[[\"collaps\",{quality:r.quality.split(\" \")[0],ads:r.ads,iframe:r.iframe_url+\"?oneSound=\"+encodeURIComponent(e)+\"&showPreNext=false&sharing=false&noPreview=true&showMenu=false\"}]]}}),r.subtitle))return t.fetch(r.iframe_url).then(function(e){return e.text()}).then(function(e){var t=e.split(\"makePlayer({\")[1];if(t&&(n.json_parse(\"{\"+t.split(\");\")[0].replace(/\"(\\d+)\":/g,'\"_$1\":')).source.cc||[]).filter(function(e){return!s.test(e.name)}).length)for(var r in o.film.translators)o.film.translators[r].icon=\"subtitles\",o.film.translators[r].link[0][1].subtitle=!0,o.film.translators[r].link[0][1].priority=!0;return o});return Promise.resolve(o)}"],["list_videocdn","function(e,t){var n=t.config.access;return e.ids.kinopoisk?(e.type?Promise.resolve({film:\"movies\",cartoon:\"movies\",series:\"tv-series\",\"cartoon-series\":\"tv-series\",\"tv-show\":\"show-tv-series\",\"anime-film\":\"animes\",\"anime-series\":\"anime-tv-series\"}[e.type]):(t&&t.fetch||fetch)(n.videocdn.domain+\"/api/short\",{query:{kinopoisk_id:e.ids.kinopoisk,api_token:n.videocdn.token},corsProxy:!0}).then(function(e){return e.json()}).then(function(e){return e.data.length?\"e\"==(e=e.data[0].iframe_src.split(\"/\")[4]).slice(-1)?e+\"s\":e:Promise.reject()})).then(function(r){return(t&&t.fetch||fetch)(n.videocdn.domain+\"/api/\"+r,{query:{query:e.ids.kinopoisk,field:\"kinopoisk_id\",api_token:n.videocdn.token},corsProxy:!0}).then(function(e){return e.json()}).then(function(t){var n={},r=e.current;return t.data&&t.data.length?(t.data[0].episodes&&t.data[0].episodes.length?(n.seasons={},t.data[0].episodes.forEach(function(e){r&&r.season&&r.season!=e.season_num||(n.seasons[e.season_num]||(n.seasons[e.season_num]={id:e.season_num,episodes:{}}),r&&r.episode&&r.episode!=parseInt(e.num)||(n.seasons[e.season_num].episodes[parseInt(e.num)]={id:parseInt(e.num),translators:{}},e.media.forEach(function(t){t.translation_=t.translation.short_title.replace(/полное дублирование \\((.*?)\\)$/i,\"$1\"),r&&r.translator&&r.translator.toLowerCase()!=t.translation_||(n.seasons[e.season_num].episodes[parseInt(e.num)].translators[t.translation_]={id:t.translation_,link:[[\"videocdn\",{quality:t.source_quality,ads:null,iframe:\"https:\"+t.translation.iframe_src+\"&season=\"+e.season_num+\"&episode=\"+parseInt(e.num)+\"&nocontrol=1\"}]]})})))})):(n.film={translators:{}},t.data[0].media.forEach(function(e){e.translation_=e.translation.short_title.replace(/полное дублирование \\((.*?)\\)$/i,\"$1\"),r&&r.translator&&r.translator.toLowerCase()!=e.translation_||(n.film.translators[e.translation_]={id:e.translation_,link:[[\"videocdn\",{quality:e.source_quality,ads:null,iframe:\"https:\"+e.translation.iframe_src}]]})})),n):null})}):Promise.resolve({})}"],["list_hdvb","function(e,t){var n=t.config.access;return e.ids.kinopoisk?(t&&t.fetch||fetch)(n.hdvb.domain+\"/api/videos.json\",{query:{id_kp:e.ids.kinopoisk,token:n.hdvb.token}}).then(function(e){return e.json()}).then(function(t){var n={},r=e.current;return t.filter(function(e){return-1==[\"CAMRip\",\"TS\",\"DVDScr\",\"TC\"].indexOf(e.quality)&&-1==[108,109].indexOf(e.translator_id)&&!e.block}).forEach(function(e){if(e.serial_episodes)n.seasons||(n.seasons={}),e.serial_episodes.forEach(function(t){r&&r.season&&r.season!=t.season_number||(n.seasons[t.season_number]||(n.seasons[t.season_number]={id:t.season_number,episodes:{}}),t.episodes.forEach(function(s){r&&r.episode&&r.episode!=s||(n.seasons[t.season_number].episodes[s]||(n.seasons[t.season_number].episodes[s]={id:s,translators:{}}),r&&r.translator&&r.translator.toLowerCase()!=e.translator||(n.seasons[t.season_number].episodes[s].translators[e.translator]={id:e.translator,link:[[\"hdvb\",{quality:e.quality,ads:null,iframe:e.iframe_url+\"?s=\"+t.season_number+\"&e=\"+s+\"&nocontrol=1\"}]]}))}))});else{if(n.film||(n.film={translators:{}}),r&&r.translator&&r.translator.toLowerCase()!=e.translator)return;n.film.translators[e.translator]||(n.film.translators[e.translator]={id:e.translator,link:[]}),n.film.translators[e.translator].link.push([\"hdvb\",{quality:e.quality,ads:null,iframe:e.iframe_url}])}}),n}):Promise.resolve({})}"],["list_ustore","function(e,t){if(\"object\"!=(\"undefined\"==typeof window?\"undefined\":_typeof(window))||!e.ids.kinopoisk||!corsProxy)return Promise.reject(new Error(\"corsProxy not found\"));var n=t.config.access;return fetch(n.ustore.domain,{query:{id:e.ids.kinopoisk,f:\"search_by_id\",where:\"kinopoisk\",hash:n.ustore.token}}).then(function(e){return e.json()}).then(function(e){var t={};return e[404]?t:(e.forEach(function(e){e.playlist?(t.seasons||(t.seasons={}),e.playlist.forEach(function(r){for(var s in r.data)for(var o in t.seasons[s]||(t.seasons[s]={id:s,episodes:{}}),r.data[s]){var i=1*o+1;t.seasons[s].episodes[i]||(t.seasons[s].episodes[i]={id:i,translators:{}}),t.seasons[s].episodes[i].translators[r.translate]={id:r.translate,link:[[\"ustore\",{quality:e.quality,ads:null,iframe:\"https://\"+e.domain+\"/start/\"+n.ustore.token+\"/\"+r.data[s][o]+\"?season=\"+s+\"&episode=\"+i}]]}}})):(t.film||(t.film={translators:{}}),t.film.translators[e.translate]||(t.film.translators[e.translate]={id:e.translate,link:[]}),t.film.translators[e.translate].link.push([\"ustore\",{quality:e.quality,ads:null,iframe:e.iframe}]))}),t)})}"],["list_bazon","function(e,t){if(!e.ids.kinopoisk)return Promise.resolve({});var n=t.config.access;return fetch(n.bazon.domain+\"/api/search\",{query:{kp:e.ids.kinopoisk,token:n.bazon.token}}).then(function(e){return e.json()}).then(function(e){var t={};return e.results.forEach(function(e){if(e.episodes)for(var n in t.seasons||(t.seasons={}),e.episodes)for(var r in t.seasons[n]||(t.seasons[n]={id:n,episodes:{}}),e.episodes[n])t.seasons[n].episodes[r]||(t.seasons[n].episodes[r]={id:r,translators:{}}),t.seasons[n].episodes[r].translators[e.translation]={id:e.translation,link:[[\"bazon\",{quality:e.quality,ads:null,iframe:e.link.replace(/\\/\\/(.*?)\\./,\"//yo.\")+\"?season=\"+n+\"&episode=\"+r+\"&qual=\"+e.episodes[n][r]}]]};else t.film||(t.film={translators:{}}),t.film.translators[e.translation]||(t.film.translators[e.translation]={id:e.translation,link:[]}),t.film.translators[e.translation].link.push([\"bazon\",{quality:e.quality,ads:null,iframe:e.link.replace(/\\/\\/(.*?)\\./,\"//yo.\")+\"?qual=\"+e.max_qual}])}),t})}"],["link_sbs","function(e,t){return t.fetch(e,{corsProxy:!0}).then(function(e){return e.text()}).then(function(e){var t={},n=e.split(\"playerParams = {\")[1];return n?Object.entries(JSON.parse(\"{\"+n.split(\"};\")[0]+\"}\").params[0]).filter(function(e){return e[0].startsWith(\"url\")}).forEach(function(e){return t[e[0].slice(3)]=e[1]}):e.replace(/\\<source src=\"(.*?)\" type=\"(.*?)\" \\/\\>/g,function(e,n,r){t[0]||(t[0]=n.replace(/&amp;/g,\"&\"))}),{src:t,type:\"video/mp4\"}})}"],["link_collaps","function(e,t){var n=this,r=[280,360,480,720,1080,1440,2160,4320];return(t&&t.fetch||fetch)(e).then(function(e){return e.text()}).then(function(s){var o={},i=s.split(\"makePlayer({\")[1];if(!i){if(!e.startsWith(\"https://proxy.fetchcors.workers.dev/\"))return n.link_collaps(\"https://proxy.fetchcors.workers.dev/\"+e,t);throw new Error(\"Block source\")}var a=n.json_parse(\"{\"+i.split(\");\")[0].replace(/\"(\\d+)\":/g,'\"_$1\":')),l=Object.fromEntries(new URLSearchParams(new URL(e).search)).oneSound.toLowerCase(),c=l&&a.source.audio.names.map(function(e,t){return e.toLowerCase()==l&&t}).filter(function(e){return!1!==e})[0],u=a.source.hls.replace(\"/master.m3u8\",\"\")+\"/\";return a.source.dash&&null!=c&&(o.audio=c),a.source.cc&&a.source.cc.length&&(o.subtitles=Object.fromEntries(a.source.cc.map(function(e){return[e.name.toLowerCase().replace(\"rus\",\"рус\").indexOf(\"рус\")>-1?\"ru\":e.name.toLowerCase().indexOf(\"eng\")>-1?\"en\":\"\",e.url]}))),(t&&t.fetch||fetch)(a.source.hls).then(function(e){return e.text()}).then(function(e){return o.src=Object.fromEntries(Array.from(e.matchAll(new RegExp(\"#EXT-X-STREAM-INF:(?:.*)RESOLUTION=(?:\\\\d+)x(\\\\d+),(?:.*)(\\\\s\\\\S+)(.*?)\",\"g\")),function(e){return[parseInt(e[1]),e[2].trim()]}).map(function(e){return console.log(\"m_\",e,u),e[1]&&e[1].indexOf(\"://\")>-1&&(e[1]=e[1].replace(e[1].replace(/https:\\/\\/(.*?)\\/(.*?)$/,\"$1\"),u.replace(/https:\\/\\/(.*?)\\/(.*?)$/,\"$1\"))),[r.filter(function(t){return t>e[0]-64})[0],(e[1].indexOf(\"://\")>-1?\"\":u)+e[1].replace(\".m3u8\",\"-a\"+(c+1)+\".m3u8\")]})),console.log({r:o,h:u}),o})})}"],["link_videocdn","function(e,t){var n=this;return(t&&t.fetch||fetch)(e).then(function(e){return e.text()}).then(function(r){var s=Object.fromEntries(new URLSearchParams(\"?\"+e.split(\"?\")[1])),o=/([\\w\\d_-]*)\\.?[^\\\\\\/]*$/i,i=n.json_parse(r.split('id=\"files\" value=\"')[1].split('\">')[0])[s.translation],a={};if(0==i.indexOf(\"#\")&&0==(i=function(e){if(-1==e.indexOf(\".\")){var t=\"\";e=e.substr(1);for(var n=0;n<e.length;n+=3)t+=\"%u0\"+e.slice(n,n+3);e=unescape(t)}return e}(i)).indexOf(\"[{\")||0==i.indexOf(\"[{\")){var l,c=_createForOfIteratorHelper(JSON.parse(i));try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u.id==s.season){var f,p=_createForOfIteratorHelper(u.folder);try{for(p.s();!(f=p.n()).done;){var d=f.value;d.id==s.season+\"_\"+s.episode&&(i=d.file)}}catch(e){p.e(e)}finally{p.f()}}else u.id==s.season+\"_\"+s.episode&&(i=u.file)}}catch(e){c.e(e)}finally{c.f()}}return i.replace(new RegExp(\"//\",\"g\"),\"https://\").replace(/(,)?\\[\\d+p\\]/g,\"[]\").split(\"[]\").slice(1).forEach(function(e){return e.split(\" or \").forEach(function(e){a[e.match(o)[1]]=e})}),Promise.all(Object.values(a).map(function(e){return(t&&t.fetch||fetch)(e,{method:\"HEAD\"}).then(function(e){if(200==e.status)return e.url}).catch(function(e){return null})})).then(function(e){var t={src:{}};return e.forEach(function(e){e&&(t.src[e.match(o)[1]]=e)}),t})})}"],["link_hdvb","function(e,t){var n=this;return\"object\"==(\"undefined\"==typeof window?\"undefined\":_typeof(window))&&corsProxy?new Promise(function(r,s){var o=$('<iframe src=\"'+e+'\" style=\"opacity:0;height:0;\">').firstElementChild.on(\"load\",function(e){o.contentWindow.postMessage({corsProxy:{eval:function(){return document.body.innerHTML}.toString().replace(/\\n/g,\"\")},timeStamp:e.timeStamp},\"*\"),window.addEventListener(\"message\",function s(i){if(i.data.corsProxy&&e.timeStamp==i.data.timeStamp&&i.data.corsProxy.eval){window.removeEventListener(\"message\",s,!1),o.remove();var a=\"https:\"+n.json_parse(i.data.corsProxy.eval.split('data-config=\"')[1].split('\"')[0]).hls;(t&&t.fetch||fetch)(a).then(function(e){return e.text()}).then(function(e){var t=a.replace(\"/index.m3u8\",\"\"),n=new RegExp(\"^./\");r({src:Object.fromEntries(Array.from(e.matchAll(new RegExp(\"x(\\\\d+)\\\\s(.*?.m3u8)\",\"g\")),function(e){return[e[1],t+e[2].replace(n,\"/\")]}))})})}},!1)},{once:!0});$(\"#content\").append(o)}):(t&&t.fetch||fetch)(e,{headers:{referer:\"https://localhost:3000/\"}}).then(function(e){return e.text()}).then(function(e){var n=\"https:\"+JSON.parse(e.split(\"data-config='\")[1].split(\"'\")[0]).hls;return(t&&t.fetch||fetch)(n).then(function(e){return e.text()}).then(function(e){var t=n.replace(\"/index.m3u8\",\"\"),r=new RegExp(\"^./\");return{src:Object.fromEntries(Array.from(e.matchAll(new RegExp(\"x(\\\\d+)\\\\s(.*?.m3u8)\",\"g\")),function(e){return[e[1],t+e[2].replace(r,\"/\")]}))}})})}"],["link_ustore","function(e,t){return\"object\"==(\"undefined\"==typeof window?\"undefined\":_typeof(window))&&corsProxy?new Promise(function(t,n){var r=$('<iframe src=\"'+e+'\" style=\"opacity:0;height:0;\">').firstElementChild.on(\"load\",function(e){var s=0;r.contentWindow.postMessage({corsProxy:{webRequests:!0},timeStamp:e.timeStamp},\"*\");window.addEventListener(\"message\",function o(i){if(i.data.corsProxy&&e.timeStamp==i.data.timeStamp){if(i.data.corsProxy.eval){window.removeEventListener(\"message\",o,!1),r.remove();var a=[280,360,480,720,1080,1440,2160,4320];return t({src:i.data.corsProxy.eval.reduce(function(e,t,n){return e[a[n+1]]=t,e},{})})}var l=i.data.corsProxy.webRequests?i.data.corsProxy.webRequests.filter(function(e){return e.url.match(\"ustGet.php\")}):[];if(l.length||++s>9){if(!l.length)return window.removeEventListener(\"message\",o,!1),r.remove(),n(\"Timeout\");fetch(l[0].url).then(function(e){return e.json()}).then(function(t){r.contentWindow.postMessage({corsProxy:{webRequests:!1,eval:function(){var e=document.createElement(\"script\");return e.innerHTML='($SCRIPT)(\"$URL\")',document.head.appendChild(e),JSON.parse(document.documentElement.getAttribute(\"data-cors-proxy-res\"))}.toString().replace(\"$URL\",t.url.join(\", \")).replace(\"$SCRIPT\",function(e){document.documentElement.setAttribute(\"data-cors-proxy-res\",JSON.stringify(e.split(\", \").map(window.decodeStr)))}.toString().replace(/\\n/g,\"\"))},timeStamp:e.timeStamp},\"*\")})}else setTimeout(function(){return i.source.postMessage({corsProxy:{},timeStamp:e.timeStamp},\"*\")},500)}},!1)},{once:!0});$(\"#content\").append(r)}):Promise.reject(new Error(\"corsProxy not found\"))}"],["link_bazon","function(e,t){return\"object\"==(\"undefined\"==typeof window?\"undefined\":_typeof(window))&&corsProxy?new Promise(function(t,n){var r=$('<iframe src=\"'+e+'\" style=\"opacity:0;height:0;\">').firstElementChild.on(\"load\",function(n){r.contentWindow.postMessage({corsProxy:{eval:function(){return new Promise(function(e){var t,n=function(){return!document.body.innerHTML.match('<div id=\"player\"></div>')&&(t&&clearInterval(t),!e(document.body.innerHTML))};n()||(t=setInterval(function(){return n()},500))})}.toString().replace(/\\n/g,\"\")},timeStamp:n.timeStamp},\"*\");window.addEventListener(\"message\",function s(o){if(o.data.corsProxy&&n.timeStamp==o.data.timeStamp){window.removeEventListener(\"message\",s,!1),r.remove();var i=Object.fromEntries(new URLSearchParams(\"?\"+e.split(\"?\")[1])).qual,a=\"https://\"+o.data.corsProxy.eval.split(\"<video\")[1].split('src=\"//')[1].split('\"')[0].replace(/&amp;/g,\"&\");t({src:[480,720,1080,2160].reduce(function(e,t){return t<=i&&(e[t]=a.replace(/\\d+.mp4/g,t+\".mp4\")),e},{})})}},!1)},{once:!0});$(\"#content\").append(r)}):Promise.reject(new Error(\"corsProxy not found\"))}"],["json_parse","function(e){return JSON.parse(e.replace(/&quot;/g,'\"').replace(/:\\s*?'(.*?)'/g,': \"$1\"').replace(/:\\s+(\\d+\\s+\\*\\s+\\d+)/g,': \"$1\"').replace(/\\s\\s+/g,\"\").replace(/{\\s/g,\"{\").replace(/(,|{)([a-zA-Z0-9-_]+):/g,'$1\"$2\":').replace(/,(\\s+}|})/g,\"}\"))}"],["ping","function(e,t){var n=this;return t.loadApi(t.parseUrl({info:\"kp4554\"})).then(function(e){var r=(new Date).getTime();return Promise.all(Object.keys(n).filter(function(e){return e.startsWith(\"link_\")}).map(function(e){return e.replace(\"link_\",\"\")}).filter(function(e){return!!n[\"list_\"+e]}).map(function(s){return n[\"list_\"+s](e,t).then(function(e){if(!e||!e.film)throw new Error(\"Not found\");var o=Object.values(e.film.translators)[0].link[0][1].iframe;return n[\"link_\"+s](o,t).then(function(e){return{id:s,iframe:o,sources:e.src,ping:(new Date).getTime()-r}})}).catch(function(e){return{id:s,ping:(new Date).getTime()-r,error:e.message}})})).then(function(e){return console.log(e),{ping:(new Date).getTime()-r,res:e.map(function(e){return e.id+\" (\"+e.ping+\")\"+(e.error?\" [\"+e.error+\"]\":\"\")})}})})}"]]}],["genre",{"root":"function api(e,n){var t=n.config.access;if(t.collaps.domain){var a=[];return Promise.resolve(function r(c){return(n&&n.fetch||fetch)(t.collaps.domain+\"/\"+e,{query:{token:t.collaps.token,page:++c},signal:n.signal}).then(function(e){return e.json()}).then(function(e){return e.results?(a=a.concat(e.results.filter(function(e){return!e.name.match(/зарубежный/i)&&!e.name.match(/русский/i)&&!e.name.match(/эротика/i)})),e.next_page?r(c):{res:a.reverse()}):a})}(0))}}","prototype":[]}],["staff",{"root":"function api(e,n,i){var o=i.config.access;return o.kinopoisk&&o.kinopoisk.domain?(e.startsWith(\"kp\")?(i&&i.fetch||fetch)(o.kinopoisk.domain+\"/api/v1/staff\",{query:{filmId:e.slice(2)},headers:{\"access-token\":o.kinopoisk.token}}).then(function(e){return e.json()}).then(function(e){var i=e.filter(function(e){return e.nameRu==n||e.nameEn==n});return i.length&&i[0].staffId}):Promise.resolve(e)).then(function(e){return e?(i&&i.fetch||fetch)(o.kinopoisk.domain+\"/api/v1/staff/\"+e,{headers:{\"access-token\":o.kinopoisk.token}}).then(function(e){return e.json()}).then(function(e){return{id:e.personId,name:e.nameRu,nameOrig:e.nameEn,poster:e.posterUrl,birthday:e.birthday,age:e.age,profession:e.profession,res:Object.values(e.films.filter(function(e){return e.rating>6&&!!e.nameRu&&![\"HIMSELF\",\"HERSELF\"].includes(e.professionKey)}).reverse().reduce(function(e,n){return e[\"kp\"+n.filmId]||(e[\"kp\"+n.filmId]={cur:n,id:\"kp\"+n.filmId,name:n.nameRu,nameOrig:n.nameEn,poster:\"https://st.kp.yandex.net/images/film_iphone/iphone360_\"+n.filmId+\".jpg\",rating:parseFloat(n.rating),profession:[]}),e[\"kp\"+n.filmId].profession.includes(n.professionKey)||e[\"kp\"+n.filmId].profession.push(n.professionKey),e},{}))}}):[]}):Promise.reject(new Error(\"Source not found\"))}","prototype":[]}],["search",{"root":"function api(e,n){var i=n.config.access;console.log(\"api options\",e,n);var t=n.json,o=[];if(t.name&&o.push([\"name\",t.name]),t.genre&&!isNaN(parseFloat(t.genre))&&isFinite(t.genre)&&o.push([\"genre_id\",t.genre]),t.country&&!isNaN(parseFloat(t.country))&&isFinite(t.country)&&o.push([\"country_id\",t.country]),t.collection&&o.push([\"collection_id\",t.collection]),t.page&&o.push([\"page\",t.page]),o.push([\"sort\",t.sort||\"-year\"]),console.log(\"query\",o),i.collaps.domain)return(n&&n.fetch||fetch)(i.collaps.domain+\"/list\",{query:Object.fromEntries(o.concat([[\"token\",i.collaps.token],[\"limit\",t.limit||24]])),signal:n.signal}).then(function(e){return e.json()}).then(function(e){return e.results.length?{res:e.results.map(function(e){return{id:e.kinopoisk_id?\"kp\"+e.kinopoisk_id:e.imdb_id?\"tt\"+e.imdb_id:\"c\"+e.id,age:parseInt(e.age),name:e.name,nameOrig:e.origin_name,year:e.year,poster:e.poster,rating:parseFloat(e.kinopoisk||e.imdb||\"0\")}})}:t.name?(n&&n.fetch||fetch)(i.kinopoisk.domain+\"/api/v2/films\",{query:{keyword:t.name},headers:{\"access-token\":i.kinopoisk.token}}).then(function(e){return e.json()}).then(function(e){return{res:e.films.map(function(e){return{id:\"kp\"+e.filmId,name:(e.nameRu||\"\").replace(/ \\((.*?)\\)$/,\"\"),nameOrig:e.nameEn,poster:\"https://st.kp.yandex.net/images/film_iphone/iphone360_\"+e.filmId+\".jpg\",year:+e.year.replace(/-(.*?)$/,\"\"),rating:parseFloat(e.rating)}})}}):{res:[]}})}","prototype":[]}],["languages",{"root":"function api(o,e){return console.log({req:o,options:e}),(e&&e.fetch||fetch)(\"https://script.google.com/macros/s/\"+e.route.gs+\"/exec\",{query:e.json,signal:e.signal}).then(function(o){return o.json()}).then(function(o){return console.log(\"get\",o),o})}","prototype":[]}],["sbs",{"root":"function api(o,e){return console.log({req:o,options:e}),(e&&e.fetch||fetch)(\"https://script.google.com/macros/s/\"+e.route.gs+\"/exec\",{query:e.json,signal:e.signal}).then(function(o){return o.json()}).then(function(o){return console.log(\"get\",o),o})}","prototype":[]}],["tv",{"root":"function api(t,e){return(e&&e.fetch||fetch)(\"https://script.google.com/macros/s/\"+e.route.gs+\"/exec\",{query:e.json,signal:e.signal}).then(function(t){return t.json()})}","prototype":[]}]]);Promise.resolve({"routes":{"home":{"view":"home","api":"/api/home","js":"/api/home.js","gs":"AKfycbwajircc87mrYnwvJmujzCs0tUrzKlYq2cPWjwTzwNy9Uxyw5JmRZFtWlXxMe-ogK85EQ"},"info":{"ttl":3600000,"view":"info","url":"/:info","api":"/api/info","js":"/api/info.js","schema":{"params":{"type":"object","properties":{"info":{"type":"string"}},"required":["info"]}},"seo":{"title":"\"+$this.name+\"","description":"\"+$this.description+\"","image":"\"+$this.poster+\""}},"sources":{"api":"/api/sources","js":"/api/sources.js"},"genre":{"view":"genre","url":"/:genre","api":"/api/genre","js":"/api/genre.js","seo":{"title":"Подборки"}},"staff":{"view":"staff","url":"/:id/:name","api":"/api/staff","js":"/api/staff.js","seo":{"title":"Актеры"}},"search_name":{"url":"/:search_name"},"search":{"view":"search","api":"/api/search","js":"/api/search.js","schema":{"query":{"type":"object","properties":{"page":{"type":"integer","default":0}}}},"seo":{"title":"Поиск"}},"languages":{"ttl":432000000,"view":"languages","api":"/api/languages","js":"/api/languages.js","gs":"AKfycbwsffIq-nZFTDe1xL9yAPq6hxgtj3vgn5ZeoC9uzs0-5H5Q3DYwR4qV4IB1Lp9qRJ5NjA","aside":true,"schema":{"params":{"type":"object","properties":{"page":{"type":"integer","default":0}}}}},"sbs":{"ttl":864000000,"view":"sbs","api":"/api/sbs","js":"/api/sbs.js","gs":"AKfycbw5SJHEz9c6b453cLvB1C5IbjqZM9E5zzH18kTb5T7gzXhpE-uWkHWU1kVNCeHmwXnN","aside":true,"schema":{"params":{"type":"object","properties":{"page":{"type":"integer","default":0}}}}},"tv":{"ttl":172800000,"view":"tv","api":"/api/tv","js":"/api/tv.js","gs":"AKfycbyRGJi-VZLjZc0_iIrWiC0X18coAghIpYJCGRu6kektCpgx91Py4wqw7FuWxs6QCPfHOg","aside":true,"schema":{"params":{"type":"object","properties":{"fields":{"type":"string","default":"genre,src,name,icon"},"page":{"type":"integer","default":0},"limit":{"type":"integer","default":1000}}}}},"bookmarks":{"view":"bookmarks","seo":{"title":"\"+({\n\t\t\t\tfavorite: 'Избранное',\n\t\t\t\twatch_later: 'Посмотреть позже'\n\t\t\t}[location.json.bookmarks] || 'Закладки')+\""}},"flags":{"view":"flags"}}}).then(function(e){var t,r=e.routes;if(!qad.mode&&(corsProxy&&corsProxy.msx||document.referrer.endsWith("/msx/"))&&(qad.mode="msx"),"msx"==qad.mode&&window==window.top){var n="qwedl.github.io"==location.host?"movies.qwedl.com":location.host;return location.href="http://msx.benzac.de/?welcome=menu:request:interaction:menu@"+location.protocol+"//"+n+"/msx/"}Object.defineProperty(location,"routes",{get:function(){return r},enumerable:!1}),Promise.all([main(),(t={favorite:{},time:{},watch_later:{}},"globalStorage"in window&&navigator.storageAvailable&&!localStorage.no_syncStorage?new globalStorage({default:t,providers:package_config.sync,prefix:"movies_qwedl_com"}).then(function(e){return console.log("sync",e),corsProxy&&corsProxy.ngapi?$("#sync").remove():Object.defineProperties(e,{authSync:{get:function(){return console.log("authSync"),function(){syncStorage.users().length?alert("Вы уже вошли как "+syncStorage["#data"][0].user.name+" ("+syncStorage["#data"][0].user.id+")"):syncStorage.auth().then(function(e){console.log("Done",e),syncStorage.authIcon(e)}).catch(function(e){switch(console.log("err authSync",e.error),e.error){case"popup_blocked_by_browser":return alert("Ваш браузер заблокировал всплывающее окно, попробуйте ещё раз");default:return console.error(e)}})}},enumerable:!1},authIcon:{get:function(){return function(e){var t=e.users(),r=$$("#sync");return t.length?r.forEach(function(e){e.classList.remove("material-icons"),e.style.setProperty("--iconURL","url("+t[0].iconURL.replace("s96-","s64-")+")");var r=e.$(".material-icons");r&&r.remove()}):r.forEach(function(e){return e.classList.add("material-icons")}),e}},enumerable:!1}}),e}).catch(function(e){return console.log("err syncStorage",e.details),"Cookies are not enabled in current environment."==e.details&&(confirm(["Ваш браузер заблокировал доступ к cookie.",'Нажмите "OK" чтобы узнать подробнее'].join("\n"))?window.open("https://developers.google.com/identity/sign-in/web/troubleshooting#third-party_cookies_and_data_blocked","_blank"):localStorage.no_syncStorage=!0),t}):Promise.resolve(t)).then(function(e){syncStorage=e,console.log({sync:e}),"authIcon"in e&&(console.log("authIcon"),e.authIcon(e))})]).then(function(){return onrender()}).catch(function(e){alert("onerror: "+(e.stack||e.message||e))})});</script><style>html:not([data-user-mode]) aside nav summary a { margin-left: -8px }html:not([data-user-mode]) aside nav.round summary a { margin-left: -16px }header.progress { top: 0 !important }</style></body></html>